!function(){"use strict";const e={name:"Jacques Cousteau",job:"Explorer"},t={formSelector:".form",inputSelector:".form__input",submitButtonSelector:".form__submit-button",inactiveButtonClass:"form__submit-button_disabled",inputErrorClass:"form__input_type_error",errorClass:"form__input-error_visible",fixedPlaceholderClass:"form__placeholder_is-fixed",closeButtonSelector:".popup__close-button"},i={cardSelector:".card",cardTemplateSelector:".template_card",inputCardNameSelector:".form__input_value_card-name",inputCardLinkSelector:".form__input_value_card-link",cardTitleSelector:".card__title",cardPictureSelector:".card__picture",cardLikeButtonSelector:".card__like-button",cardLikeButtonActiveClass:"card__like-button_active",cardDeleteButtonSelector:".card__delete-button",inputCardNameID:"card-name-input",inputCardLinkID:"card-link-input",cardsContainerSelector:"#gallery"},o="popup_opened";class r{constructor(e){let{data:t,cardTemplateSelector:i,cardSettings:o,handleCardClick:r}=e;this._name=t.name,this._link=t.link,this._cardTemplateSelector=i,this._cardSettings=o,this._handleCardClick=r}_getTemplate(){return document.querySelector(this._cardTemplateSelector).content.querySelector(this._cardSettings.cardSelector).cloneNode(!0)}generateCard(){return this._element=this._getTemplate(),this._addTemplateElements(),this._setCardContent(),this._setEventListeners(),this._element}_addTemplateElements(){this._cardTitle=this._element.querySelector(this._cardSettings.cardTitleSelector),this._cardPicture=this._element.querySelector(this._cardSettings.cardPictureSelector),this._cardLikeButton=this._element.querySelector(this._cardSettings.cardLikeButtonSelector),this._cardDeleteButton=this._element.querySelector(this._cardSettings.cardDeleteButtonSelector)}_setCardContent(){this._cardTitle.textContent=this._name,this._cardPicture.src=this._link,this._cardPicture.alt="picture of ".concat(this._name)}_setEventListeners(){this._cardLikeButton.addEventListener("click",(()=>{this._handleCardLikeClick()})),this._cardDeleteButton.addEventListener("click",(()=>{this._handleCardDelete()})),this._cardPicture.addEventListener("click",(()=>{const e={name:this._name,link:this._link};this._handleCardClick(e)}))}_handleCardLikeClick(){this._cardLikeButton.classList.toggle(this._cardSettings.cardLikeButtonActiveClass)}_handleCardDelete(){this._element.remove(),this._element=null}}class s{constructor(e,t){this._formSettings=e,this._formElement=t}enableValidation(){this._addFormElements(),this._enableSubmitValidation(),this._setCustomPlaceholders()}_addFormElements(){this._submitButtonElement=this._formElement.querySelector(this._formSettings.submitButtonSelector),this._inputsList=Array.from(this._formElement.querySelectorAll(this._formSettings.inputSelector))}_enableSubmitValidation(){this._enableInputsValidation(),this._disableSubmit(),this._formElement.addEventListener("submit",(e=>{e.preventDefault()}))}_setCustomPlaceholders(){this._inputsList.forEach((e=>{e.addEventListener("input",(()=>this._togglePlaceholder(e)))}))}_togglePlaceholder(e){!e.value.length>=1?this._unfreezePlaceholder(e):this._freezePlaceholder(e)}_freezePlaceholder(e){this._formElement.querySelector(".".concat(e.id,"-placeholder")).classList.add(this._formSettings.fixedPlaceholderClass)}_unfreezePlaceholder(e){this._formElement.querySelector(".".concat(e.id,"-placeholder")).classList.remove(this._formSettings.fixedPlaceholderClass)}_toggleSubmitButtonState(){this._hasInvalidInput(this._inputsList)?this._disableSubmit():this._ableSubmit()}_disableSubmit(){this._submitButtonElement.classList.add(this._formSettings.inactiveButtonClass),this._submitButtonElement.disabled=!0}_ableSubmit(){this._submitButtonElement.classList.remove(this._formSettings.inactiveButtonClass),this._submitButtonElement.disabled=!1}_enableInputsValidation(){this._inputsList.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e),this._toggleSubmitButtonState()}))}))}_checkInputValidity(e){e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)}_showInputError(e,t){const i=this._formElement.querySelector(".".concat(e.id,"-error"));e.classList.add(this._formSettings.inputErrorClass),i.textContent=t,i.classList.add(this._formSettings.errorClass)}_hideInputError(e){const t=this._formElement.querySelector(".".concat(e.id,"-error"));e.classList.remove(this._formSettings.inputErrorClass),t.classList.remove(this._formSettings.errorClass),t.textContent=""}_hasInvalidInput(){return this._inputsList.some((e=>!e.validity.valid))}resetForm(){this._formElement.reset(),this._inputsList.forEach((e=>{this._unfreezePlaceholder(e),this._hideInputError(e)})),this._disableSubmit()}loadFormData(){this._inputsList.forEach((e=>{this._freezePlaceholder(e),this._hideInputError(e)})),this._disableSubmit()}}class n{constructor(e){this._popupElement=document.querySelector(e),this._closePopupButtonElement=this._popupElement.querySelector(".popup__close-button"),this.closePopup=this.closePopup.bind(this),this._handleEscClose=this._handleEscClose.bind(this),this._handleFocusOutPopup=this._handleFocusOutPopup.bind(this)}_handleEscClose(e){"Escape"===e.key&&this.closePopup()}_handleFocusOutPopup(e){e.target==this._popupElement&&this.closePopup()}openPopup(){this._popupElement.classList.add(o),this._setTempEventListeners()}closePopup(){this._popupElement.classList.remove(o),this._removeTempEventListeners()}_setTempEventListeners(){this._closePopupButtonElement.addEventListener("click",this.closePopup),this._popupElement.addEventListener("mousedown",this._handleFocusOutPopup),document.addEventListener("keydown",this._handleEscClose)}_removeTempEventListeners(){this._closePopupButtonElement.removeEventListener("click",this.closePopup),this._popupElement.removeEventListener("mousedown",this._handleFocusOutPopup),document.removeEventListener("keydown",this._handleEscClose)}}class l extends n{constructor(e){let{popupSelector:t,handleFormSubmitData:i}=e;super(t),this._formElement=this._popupElement.querySelector(".popup__form"),this._handleFormSubmitData=i,this.closePopup=this.closePopup.bind(this),this._handleFormSubmit=this._handleFormSubmit.bind(this)}_getInputValues(){return this._inputList=this._formElement.querySelectorAll(".form__input"),this._formValues={},this._inputList.forEach((e=>this._formValues[e.name]=e.value)),this._formValues}closePopup(){super.closePopup(),this._formElement.reset()}_handleFormSubmit(e){e.preventDefault(),this._handleFormSubmitData(this._getInputValues()),this.closePopup()}_setTempEventListeners(){super._setTempEventListeners(),this._formElement.addEventListener("submit",this._handleFormSubmit)}_removeTempEventListeners(){super._removeTempEventListeners(),this._formElement.removeEventListener("submit",this._handleFormSubmit)}}class a{constructor(e){let{containerSelector:t,initialSection:i,handleTextItems:o}=e;this._container=document.querySelector(t),this._textItems=i.textItems,this._renderAllItems=i.renderAllItems,this.handleTextItems=o}initializeContainerText(){this._renderAllItems(this._textItems)}resetItems(e){this._textItems=e,this.initializeContainerText()}setItemTextContent(e){let{sourceElementSelector:t,newTextValue:i}=e;this._container.querySelector(t).textContent=i}setItemValue(e){let{sourceElementSelector:t,newValue:i}=e;this._container.querySelector(t).value=i}}const c=document.querySelector("#content"),u=c.querySelector("#profile"),d=u.querySelector(".profile__info"),p=d.querySelector(".profile__edit-button"),m=u.querySelector(".profile__add-button"),_=(d.querySelector(".profile__name"),d.querySelector(".profile__details"),document.querySelector("#edit-profile-form-popup")),h=(_.querySelector(".popup__container"),_.querySelector(".popup__close-button"),_.querySelector("#edit-profile-form")),S=(h.querySelector(".form__title"),h.querySelector(".form__submit-button"),h.querySelector(".form__input_value_profile-name"),h.querySelector(".form__input_value_profile-job"),c.querySelector(".gallery"),document.querySelector("#card-template").querySelector(".card"),document.querySelector("#add-card-form-popup")),f=(S.querySelector(".popup__container"),S.querySelector(".popup__close-button"),S.querySelector("#add-card-form")),E=(f.querySelector(".form__title"),f.querySelector(".form__submit-button"),document.querySelector("#card-popup")),b=(E.querySelector(".popup__container_value_card-popup"),E.querySelector(".popup__close-button_placed_card-popup"),E.querySelector(".popup__close-up-picture"),E.querySelector(".popup__picture-details"),new class extends n{constructor(e){super(e),this._imageLinkElement=this._popupElement.querySelector(".popup__close-up-picture"),this._imageCaptionElement=this._popupElement.querySelector(".popup__picture-details")}openPopup(e){this._setImageData(e),this._setPopupContent(),super.openPopup()}_setImageData(e){this._imageLink=e.link,this._imageCaption=e.caption}_setPopupContent(){this._imageLinkElement.src=this._imageLink,this._imageLinkElement.alt="close up picture of ".concat(this._imageCaption),this._imageCaptionElement.textContent=this._imageCaption}closePopup(){super.closePopup(),delete this._imageLink,delete this._imageCaption}}("#card-popup")),C=new class{constructor(e){let{initialSection:t,containerSelector:i}=e;this._items=t.items,this._renderItem=t.renderItem,this._container=document.querySelector(i)}renderItemsList(){this._items.forEach(this._renderItem)}renderNewItem(e){this._items.push(e),this._renderItem(e)}addItemToBeginning(e){this._container.prepend(e)}}({initialSection:{items:[{name:"Yosemite Valley",link:"https://code.s3.yandex.net/web-code/yosemite.jpg"},{name:"Lake Louise",link:"https://code.s3.yandex.net/web-code/lake-louise.jpg"},{name:"Bald Mountains",link:"https://code.s3.yandex.net/web-code/bald-mountains.jpg"},{name:"Latemar",link:"https://code.s3.yandex.net/web-code/latemar.jpg"},{name:"Vanoise National Park",link:"https://code.s3.yandex.net/web-code/vanoise.jpg"},{name:"Lago di Braies",link:"https://code.s3.yandex.net/web-code/lago.jpg"}],renderItem:e=>{const t=function(e,t){const o=new r({data:e,cardTemplateSelector:i.cardTemplateSelector,cardSettings:i,handleCardClick:e=>function(e,t){t.openPopup({link:e.link,caption:e.name})}(e,t)});return o.generateCard()}(e,b);C.addItemToBeginning(t)}},containerSelector:"#gallery"}),y=new class{constructor(e){this._profileNameElement=document.querySelector(e.name),this._profileJobElement=document.querySelector(e.job)}getUserInfo(){const e={};return e.name=this._profileNameElement.textContent,e.job=this._profileJobElement.textContent,e}setUserInfo(e){this._profileNameElement.textContent=e.name,this._profileJobElement.textContent=e.job}}({name:"#name-profile-load-value",job:"#job-profile-load-value"}),L=new a({containerSelector:"#profile",initialSection:{textItems:e,renderAllItems:e=>{for(const[t,i]of Object.entries(e))L.setItemTextContent({sourceElementSelector:"#".concat(t,"-profile-load-value"),newTextValue:i})}},handleTextItems:e=>{y.setUserInfo(e)}}),g=new a({containerSelector:"#edit-profile-form",initialSection:{textItems:e,renderAllItems:e=>{for(const[t,i]of Object.entries(e))g.setItemValue({sourceElementSelector:"#profile-".concat(t,"-input"),newValue:i})}},handleTextItems:()=>{const e=y.getUserInfo();g.resetItems(e)}}),v=[];v.editProfile=new s(t,h),v.addCard=new s(t,f);const I=new l({popupSelector:"#add-card-form-popup",handleFormSubmitData:e=>{v.addCard.resetForm(),S.classList.contains(o)&&C.renderNewItem(e)}}),k=new l({popupSelector:"#edit-profile-form-popup",handleFormSubmitData:e=>{v.editProfile.resetForm(),_.classList.contains(o)&&L.handleTextItems(e)}});v.editProfile.enableValidation(),v.addCard.enableValidation(),C.renderItemsList(),L.initializeContainerText(),g.initializeContainerText(),m.addEventListener("click",(function(){v.addCard.resetForm(),I.openPopup()})),p.addEventListener("click",(function(){g.handleTextItems(),v.editProfile.loadFormData(),k.openPopup()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNmYyxxQkFBdUJzRixJQUNyQlAsRUFBaUJDLFlBQVlsRyxZQUV6QitDLEVBQWlCekYsVUFBVWdKLFNBQVNqTCxJQUV0Q21LLEVBQWUzRCxnQkFBZ0IyRSxNQWFyQ1AsRUFBaUJDLFlBQVlySSxtQkFDN0JvSSxFQUFpQkUsUUFBUXRJLG1CQUd6QmlHLEVBQW9CSyxrQkFDcEJxQixFQUFlckQsMEJBQ2YyRCxFQUFtQjNELDBCQUluQlcsRUFBYzVGLGlCQUFpQixTQTZCL0IsV0FDRStJLEVBQWlCRSxRQUFRbkcsWUFDekJvRyxFQUF1QnZGLGVBOUJ6QmdDLEVBQWtCM0YsaUJBQWlCLFNBaUNuQyxXQUVFNEksRUFBbUJqRSxrQkFDbkJvRSxFQUFpQkMsWUFBWWhHLGVBRTdCcUcsRUFBMkIxRixlIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NjcmlwdHMvZGF0YS9jYXJkcy5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc2NyaXB0cy9kYXRhL3VzZXJQcm9maWxlLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zY3JpcHRzL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc2NyaXB0cy9jb21wb25lbnRzL0NhcmQvQ2FyZC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc2NyaXB0cy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc2NyaXB0cy9jb21wb25lbnRzL1BvcHVwL1BvcHVwLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXAvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc2NyaXB0cy9jb21wb25lbnRzL1RleHRDb250YWluZXIvVGV4dENvbnRhaW5lci5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vcGFnZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NjcmlwdHMvY29tcG9uZW50cy9Qb3B1cC9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc2NyaXB0cy9jb21wb25lbnRzL1NlY3Rpb24vU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc2NyaXB0cy9jb21wb25lbnRzL1VzZXJJbmZvL1VzZXJJbmZvLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbi8qKiBDb250YWluIERhdGEgb2YgaW5pdGlhbCBjYXJkcyB2YWx1ZXMgZm9yIGZpcnN0IGxvYWRpbmcgYXMgZGVmdWx0XG4gKlxuICogQG1vZHVsZSBjYXJkc1xuICovXG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbmNvbnN0IGluaXRpYWxDYXJkcyA9IFt7XG4gICAgbmFtZTogXCJZb3NlbWl0ZSBWYWxsZXlcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vY29kZS5zMy55YW5kZXgubmV0L3dlYi1jb2RlL3lvc2VtaXRlLmpwZ1wiXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIkxha2UgTG91aXNlXCIsXG4gICAgbGluazogXCJodHRwczovL2NvZGUuczMueWFuZGV4Lm5ldC93ZWItY29kZS9sYWtlLWxvdWlzZS5qcGdcIlxuICB9LFxuICB7XG4gICAgbmFtZTogXCJCYWxkIE1vdW50YWluc1wiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9jb2RlLnMzLnlhbmRleC5uZXQvd2ViLWNvZGUvYmFsZC1tb3VudGFpbnMuanBnXCJcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiTGF0ZW1hclwiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9jb2RlLnMzLnlhbmRleC5uZXQvd2ViLWNvZGUvbGF0ZW1hci5qcGdcIlxuICB9LFxuICB7XG4gICAgbmFtZTogXCJWYW5vaXNlIE5hdGlvbmFsIFBhcmtcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vY29kZS5zMy55YW5kZXgubmV0L3dlYi1jb2RlL3Zhbm9pc2UuanBnXCJcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiTGFnbyBkaSBCcmFpZXNcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vY29kZS5zMy55YW5kZXgubmV0L3dlYi1jb2RlL2xhZ28uanBnXCJcbiAgfVxuXTtcblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuZXhwb3J0IHtcbiAgaW5pdGlhbENhcmRzXG59O1xuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuLyoqIENvbnRhaW4gRGF0YSBvZiBpbml0aWFsIHVzZXIgcHJvZmlsZSB2YWx1ZXMgZm9yIGZpcnN0IGxvYWRpbmcgYXMgZGVmdWx0XG4gKlxuICogQG1vZHVsZSB1c2VyUHJvZmlsZVxuICovXG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbmNvbnN0IGluaXRpYWxVc2VyUHJvZmlsZSA9IHtcbiAgbmFtZTogJ0phY3F1ZXMgQ291c3RlYXUnLFxuICBqb2I6ICdFeHBsb3Jlcidcbn07XG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbmV4cG9ydCB7XG4gIGluaXRpYWxVc2VyUHJvZmlsZVxufTtcbiIsIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbi8qKiBDb250YWluIGFsbCB0aGUgZ2xvYmFsIGNvbnN0YW50LFxuICogIGNvbmZpZ3VyYXRpb24gc2V0dGluZ3Mgb2JqZWN0cyB3aGljaCB0aGVpciB2YWx1ZXMgZGVwZW5kIG9uIHRoZSBIVE1MIGZpbGVcbiAqXG4gKiBAbW9kdWxlIGNvbnN0YW50c1xuICovXG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cblxuLyoqIHN0b3JlcyBzZWxlY3RvcnMgYW5kIGNsYXNzZXMgZm9yIGZvcm0gQ2xhc3MgKi9cbmNvbnN0IGZvcm1TZXR0aW5ncyA9IHtcbiAgZm9ybVNlbGVjdG9yOiBgLmZvcm1gLFxuICBpbnB1dFNlbGVjdG9yOiBgLmZvcm1fX2lucHV0YCxcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IGAuZm9ybV9fc3VibWl0LWJ1dHRvbmAsXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IGBmb3JtX19zdWJtaXQtYnV0dG9uX2Rpc2FibGVkYCxcbiAgaW5wdXRFcnJvckNsYXNzOiBgZm9ybV9faW5wdXRfdHlwZV9lcnJvcmAsXG4gIGVycm9yQ2xhc3M6IGBmb3JtX19pbnB1dC1lcnJvcl92aXNpYmxlYCxcbiAgZml4ZWRQbGFjZWhvbGRlckNsYXNzOiBgZm9ybV9fcGxhY2Vob2xkZXJfaXMtZml4ZWRgLFxuICBjbG9zZUJ1dHRvblNlbGVjdG9yOiBgLnBvcHVwX19jbG9zZS1idXR0b25gXG59O1xuXG4vKiogc3RvcmVzIHNlbGVjdG9ycyBhbmQgY2xhc3NlcyBmb3IgQ2FyZCBDbGFzcyAqL1xuY29uc3QgY2FyZFNldHRpbmdzID0ge1xuICBjYXJkU2VsZWN0b3I6IGAuY2FyZGAsXG4gIGNhcmRUZW1wbGF0ZVNlbGVjdG9yOiBgLnRlbXBsYXRlX2NhcmRgLFxuICBpbnB1dENhcmROYW1lU2VsZWN0b3I6IGAuZm9ybV9faW5wdXRfdmFsdWVfY2FyZC1uYW1lYCxcbiAgaW5wdXRDYXJkTGlua1NlbGVjdG9yOiBgLmZvcm1fX2lucHV0X3ZhbHVlX2NhcmQtbGlua2AsXG4gIGNhcmRUaXRsZVNlbGVjdG9yOiBgLmNhcmRfX3RpdGxlYCxcbiAgY2FyZFBpY3R1cmVTZWxlY3RvcjogYC5jYXJkX19waWN0dXJlYCxcbiAgY2FyZExpa2VCdXR0b25TZWxlY3RvcjogYC5jYXJkX19saWtlLWJ1dHRvbmAsXG4gIGNhcmRMaWtlQnV0dG9uQWN0aXZlQ2xhc3M6IFwiY2FyZF9fbGlrZS1idXR0b25fYWN0aXZlXCIsXG4gIGNhcmREZWxldGVCdXR0b25TZWxlY3RvcjogYC5jYXJkX19kZWxldGUtYnV0dG9uYCxcbiAgaW5wdXRDYXJkTmFtZUlEOiBgY2FyZC1uYW1lLWlucHV0YCxcbiAgaW5wdXRDYXJkTGlua0lEOiBgY2FyZC1saW5rLWlucHV0YCxcbiAgY2FyZHNDb250YWluZXJTZWxlY3RvcjogYCNnYWxsZXJ5YFxufTtcblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuLyoqIHN0b3JlcyBzZWxlY3RvcnMgYW5kIGNsYXNzZXMgZm9yIFBvcHVwIENsYXNzICovXG5jb25zdCBwb3B1cFNldHRpbmdzID0ge1xuICBwb3B1cFNlbGVjdG9yOiBgLnBvcHVwYCxcbiAgb3BlblBvcHVwQ2xhc3M6IGBwb3B1cF9vcGVuZWRgLFxuICBvcGVuUG9wdXBTZWxlY3RvcjogYC5wb3B1cF9vcGVuZWRgLFxuICBjbG9zZUJ1dHRvblNlbGVjdG9yOiBgLnBvcHVwX19jbG9zZS1idXR0b25gXG59O1xuXG4vKiogICBQb3B1cCBjbGFzcyBFeHRlbnNpb25zICovXG5cbi8qKiBQb3B1cFdpdGhGb3JtICovXG5jb25zdCBwb3B1cEZvcm1TZXR0aW5ncyA9IHtcbiAgcG9wdXBGb3JtU2VsZWN0b3I6IGAucG9wdXBfX2Zvcm1gLFxuICBwb3B1cEZvcm1JbnB1dFNlbGVjdG9yOiBgLmZvcm1fX2lucHV0YFxufTtcblxuLyoqIFBvcHVwV2l0aEltYWdlICovXG5jb25zdCBwb3B1cEltYWdlU2V0dGluZ3MgPSB7XG4gIHBvcHVwSW1hZ2VTZWxlY3RvcjogYC5wb3B1cF9fY2xvc2UtdXAtcGljdHVyZWAsXG4gIHBvcHVwSW1hZ2VDYXByaW9uU2VsZWN0b3I6IGAucG9wdXBfX3BpY3R1cmUtZGV0YWlsc2Bcbn07XG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbi8qKiBzdG9yZXMgc2VsZWN0b3JzIGZvciBVc2VySW5mbyBDbGFzcyAqL1xuY29uc3QgdXNlckluZm9Qcm9maWxlU2VsZWN0b3JzID0ge1xuICBuYW1lOiBgI25hbWUtcHJvZmlsZS1sb2FkLXZhbHVlYCxcbiAgam9iOiBgI2pvYi1wcm9maWxlLWxvYWQtdmFsdWVgXG59O1xuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG5leHBvcnQge1xuICBmb3JtU2V0dGluZ3MsXG4gIGNhcmRTZXR0aW5ncyxcbiAgcG9wdXBTZXR0aW5ncyxcbiAgcG9wdXBGb3JtU2V0dGluZ3MsXG4gIHBvcHVwSW1hZ2VTZXR0aW5ncyxcbiAgdXNlckluZm9Qcm9maWxlU2VsZWN0b3JzXG59O1xuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuLyoqIENhcmQgY2xhc3NcbiAqIENvbnRhaW4gQ2FyZCBjbGFzcyB3aGljaCBjcmVhdGVzIGEgY2FyZCB3aXRoIHRleHQgYW5kIGFuIGltYWdlIGxpbmtcbiAqIEl0IGhhcyBwcml2YXRlIG1ldGhvZHMgZm9yIHdvcmtpbmcgd2l0aCBtYXJrdXAsIGFkZGluZyBldmVudCBsaXN0ZW5lcnMsXG4gKiBhbmQgcHJlcGFyaW5nIHRoZSBjYXJkIGZvciBkaXNwbGF5LlxuICogSXQgaGFzIG9uZSBwdWJsaWMgbWV0aG9kIGdlbmVyYXRlQ2FyZCgpLHRoYXQgcmV0dXJuc1xuICogYSBmdWxseSBmdW5jdGlvbmFsIGNhcmQgZWxlbWVudCBwb3B1bGF0ZWQgd2l0aCBkYXRhLiB3aXRoIGF0dGFjaGVkIGV2ZW50IGxpc3RlbmVycy5cbiAqXG4gKiBAbW9kdWxlIENhcmRcbiAqL1xuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xuICAvKipcbiAgICogQ3JlYXRlIGEgQ2FyZCBvYmplY3RcbiAgICogQGNhbGxiYWNrIGhhbmRsZUNhcmRDbGljayAtIGEgZnVuY3Rpb24gd2hpY2ggc2V0IHRoZSBmdW5jdGlvbmFsaXR5IG9mIGNhcmQgY2xpY2sgZXZlbnRcbiAgICovXG4gIGNvbnN0cnVjdG9yKHtcbiAgICBkYXRhLFxuICAgIGNhcmRUZW1wbGF0ZVNlbGVjdG9yLFxuICAgIGNhcmRTZXR0aW5ncyxcbiAgICBoYW5kbGVDYXJkQ2xpY2tcbiAgfSkge1xuICAgIHRoaXMuX25hbWUgPSBkYXRhLm5hbWU7XG4gICAgdGhpcy5fbGluayA9IGRhdGEubGluaztcbiAgICB0aGlzLl9jYXJkVGVtcGxhdGVTZWxlY3RvciA9IGNhcmRUZW1wbGF0ZVNlbGVjdG9yO1xuICAgIHRoaXMuX2NhcmRTZXR0aW5ncyA9IGNhcmRTZXR0aW5ncztcbiAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sgPSBoYW5kbGVDYXJkQ2xpY2s7XG4gIH1cblxuICAvKiogc2V0cyB1cCBjYXJkIG1hcmt1cCAqL1xuICBfZ2V0VGVtcGxhdGUoKSB7XG4gICAgY29uc3QgY2FyZEVsZW1lbnQgPSBkb2N1bWVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5fY2FyZFRlbXBsYXRlU2VsZWN0b3IpXG4gICAgICAuY29udGVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5fY2FyZFNldHRpbmdzLmNhcmRTZWxlY3RvcilcbiAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XG5cbiAgICByZXR1cm4gY2FyZEVsZW1lbnQ7XG4gIH1cblxuICAvKipcbiAgICogc2V0cyB1cCBjYXJkIGNvbnRlbnQgYW5kIGZ1bmN0aW9uYWxpdHlcbiAgICogQHJldHVybnMge0hUTUxFbGVtZW50fSAtIHJldHVybnMgYSBmdW5jdGlvbmFsIGNhcmQgZWxlbWVudFxuICAgKi9cbiAgZ2VuZXJhdGVDYXJkKCkge1xuXG4gICAgdGhpcy5fZWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XG5cbiAgICB0aGlzLl9hZGRUZW1wbGF0ZUVsZW1lbnRzKCk7XG4gICAgdGhpcy5fc2V0Q2FyZENvbnRlbnQoKTtcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuXG4gICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQ7XG4gIH1cblxuICBfYWRkVGVtcGxhdGVFbGVtZW50cygpIHtcbiAgICB0aGlzLl9jYXJkVGl0bGUgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fY2FyZFNldHRpbmdzLmNhcmRUaXRsZVNlbGVjdG9yKTtcbiAgICB0aGlzLl9jYXJkUGljdHVyZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9jYXJkU2V0dGluZ3MuY2FyZFBpY3R1cmVTZWxlY3Rvcik7XG4gICAgdGhpcy5fY2FyZExpa2VCdXR0b24gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fY2FyZFNldHRpbmdzLmNhcmRMaWtlQnV0dG9uU2VsZWN0b3IpO1xuICAgIHRoaXMuX2NhcmREZWxldGVCdXR0b24gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fY2FyZFNldHRpbmdzLmNhcmREZWxldGVCdXR0b25TZWxlY3Rvcik7XG4gIH1cblxuICBfc2V0Q2FyZENvbnRlbnQoKSB7XG4gICAgdGhpcy5fY2FyZFRpdGxlLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcbiAgICB0aGlzLl9jYXJkUGljdHVyZS5zcmMgPSB0aGlzLl9saW5rO1xuICAgIHRoaXMuX2NhcmRQaWN0dXJlLmFsdCA9IGBwaWN0dXJlIG9mICR7dGhpcy5fbmFtZX1gO1xuICB9XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuXG4gICAgdGhpcy5fY2FyZExpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZUNhcmRMaWtlQ2xpY2soKTtcbiAgICB9KTtcblxuICAgIHRoaXMuX2NhcmREZWxldGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZUNhcmREZWxldGUoKTtcbiAgICB9KTtcblxuICAgIHRoaXMuX2NhcmRQaWN0dXJlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICBjb25zdCBjYXJkRGF0YSA9IHtcbiAgICAgICAgbmFtZTogdGhpcy5fbmFtZSxcbiAgICAgICAgbGluazogdGhpcy5fbGlua1xuICAgICAgfTtcbiAgICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayhjYXJkRGF0YSk7XG4gICAgfSk7XG5cbiAgfVxuXG4gIF9oYW5kbGVDYXJkTGlrZUNsaWNrKCkge1xuICAgIHRoaXMuX2NhcmRMaWtlQnV0dG9uLmNsYXNzTGlzdC50b2dnbGUodGhpcy5fY2FyZFNldHRpbmdzLmNhcmRMaWtlQnV0dG9uQWN0aXZlQ2xhc3MpO1xuICB9XG5cbiAgX2hhbmRsZUNhcmREZWxldGUoKSB7XG4gICAgdGhpcy5fZWxlbWVudC5yZW1vdmUoKTtcbiAgICB0aGlzLl9lbGVtZW50ID0gbnVsbDtcbiAgfVxuXG59XG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4iLCIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4vKiogRm9ybVZhbGlkYXRvciBjbGFzc1xuICogQ29udGFpbiBGb3JtVmFsaWRhdG9yIGNsYXNzIHdoaWNoIHNldHMgc2V0dGluZ3MgZm9yIHZhbGlkYXRpbmcgZm9ybSBmaWVsZHMuXG4gKiBJdCBoYXMgcHJpdmF0ZSBtZXRob2RzIGZvciBwcm9jZXNzaW5nIHRoZSBmb3JtLFxuICogYW5kIGEgcHVibGljIG1ldGhvZMKgZW5hYmxlVmFsaWRhdGlvbigpLCB3aGljaCBlbmFibGVzIGZvcm0gdmFsaWRhdGlvbi5cbiAqXG4gKiBAbW9kdWxlIEZvcm1WYWxpZGF0b3JcbiAqL1xuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcblxuICBjb25zdHJ1Y3Rvcihmb3JtU2V0dGluZ3MsIGZvcm1FbGVtZW50KSB7XG4gICAgdGhpcy5fZm9ybVNldHRpbmdzID0gZm9ybVNldHRpbmdzO1xuICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gZm9ybUVsZW1lbnQ7XG4gIH1cblxuICAvKiogc2V0cyB1cCBmb3JtIGZ1bmN0aW9uYWxpdHksIGVuYWJsZXMgZm9ybSB2YWxpZGF0aW9uICovXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XG4gICAgdGhpcy5fYWRkRm9ybUVsZW1lbnRzKCk7XG4gICAgdGhpcy5fZW5hYmxlU3VibWl0VmFsaWRhdGlvbigpO1xuICAgIHRoaXMuX3NldEN1c3RvbVBsYWNlaG9sZGVycygpO1xuICB9XG5cbiAgX2FkZEZvcm1FbGVtZW50cygpIHtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25FbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9mb3JtU2V0dGluZ3Muc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xuICAgIHRoaXMuX2lucHV0c0xpc3QgPSBBcnJheS5mcm9tKHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5fZm9ybVNldHRpbmdzLmlucHV0U2VsZWN0b3IpKTtcbiAgfVxuXG4gIC8qKiBlbmFibGUgb3IgZGlzYWJsZSBmb3Jtcy1zdWJtaXNzaW9uICovXG4gIF9lbmFibGVTdWJtaXRWYWxpZGF0aW9uKCkge1xuXG4gICAgdGhpcy5fZW5hYmxlSW5wdXRzVmFsaWRhdGlvbigpO1xuXG4gICAgLy8gaW5hY3RpdmUgdGhlIHN1Ym1pdCBidXR0b24gb24gdGhlIGZpcnN0IHBhZ2UgbG9hZFxuICAgIHRoaXMuX2Rpc2FibGVTdWJtaXQoKTtcblxuICAgIHRoaXMuX2Zvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChldnQpID0+IHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xuICB9XG5cbiAgX3NldEN1c3RvbVBsYWNlaG9sZGVycygpIHtcbiAgICB0aGlzLl9pbnB1dHNMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT5cbiAgICAgICAgdGhpcy5fdG9nZ2xlUGxhY2Vob2xkZXIoaW5wdXRFbGVtZW50KSlcbiAgICB9KTtcbiAgfVxuXG4gIF90b2dnbGVQbGFjZWhvbGRlcihpbnB1dEVsZW1lbnQpIHtcbiAgICBpZiAoIWlucHV0RWxlbWVudC52YWx1ZS5sZW5ndGggPj0gMSkge1xuICAgICAgdGhpcy5fdW5mcmVlemVQbGFjZWhvbGRlcihpbnB1dEVsZW1lbnQpXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2ZyZWV6ZVBsYWNlaG9sZGVyKGlucHV0RWxlbWVudClcbiAgICB9XG4gIH07XG5cbiAgX2ZyZWV6ZVBsYWNlaG9sZGVyKGlucHV0RWxlbWVudCkge1xuICAgIGNvbnN0IHBsYWNlaG9sZGVyRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2lucHV0RWxlbWVudC5pZH0tcGxhY2Vob2xkZXJgKTtcbiAgICBwbGFjZWhvbGRlckVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9mb3JtU2V0dGluZ3MuZml4ZWRQbGFjZWhvbGRlckNsYXNzKTtcbiAgfTtcblxuICBfdW5mcmVlemVQbGFjZWhvbGRlcihpbnB1dEVsZW1lbnQpIHtcbiAgICBjb25zdCBwbGFjZWhvbGRlckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dEVsZW1lbnQuaWR9LXBsYWNlaG9sZGVyYCk7XG4gICAgcGxhY2Vob2xkZXJFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZm9ybVNldHRpbmdzLmZpeGVkUGxhY2Vob2xkZXJDbGFzcyk7XG4gIH07XG5cbiAgLyoqIGVuYWJsZSBvciBkaXNhYmxlIGZvcm0tc3VibWlzc2lvbiBhY2NvcmRpbmcgdG8gdGhlIGlucHV0IHZhbGlkYXRpb24gKi9cbiAgX3RvZ2dsZVN1Ym1pdEJ1dHRvblN0YXRlKCkge1xuICAgIC8vIGF0IGxlYXN0IG9uZSBpbnZhbGlkIGlucHV0XG4gICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCh0aGlzLl9pbnB1dHNMaXN0KSkge1xuICAgICAgdGhpcy5fZGlzYWJsZVN1Ym1pdCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9hYmxlU3VibWl0KCk7XG4gICAgfVxuICB9XG5cbiAgX2Rpc2FibGVTdWJtaXQoKSB7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2Zvcm1TZXR0aW5ncy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25FbGVtZW50LmRpc2FibGVkID0gdHJ1ZTtcbiAgfTtcblxuICBfYWJsZVN1Ym1pdCgpIHtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZm9ybVNldHRpbmdzLmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSBmYWxzZTtcbiAgfTtcblxuICBfZW5hYmxlSW5wdXRzVmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLl9pbnB1dHNMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XG4gICAgICAgIC8vIGNoZWNraW5nIHRoZSBmaWVsZCdzIHZhbGlkaXR5XG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpO1xuICAgICAgICAvLyBjaGVjayB0aGUgYnV0dG9uJ3Mgc3RhdHVzIHVwb24gZXZlcnkgaW5wdXQgY2hhbmdlIGluIGFueSBvZiB0aGUgaW5wdXRzXG4gICAgICAgIHRoaXMuX3RvZ2dsZVN1Ym1pdEJ1dHRvblN0YXRlKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIF9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KSB7XG4gICAgaWYgKCFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpIHtcbiAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCwgaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgICB9XG4gIH1cblxuICBfc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBlcnJvck1lc3NhZ2UpIHtcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fZm9ybVNldHRpbmdzLmlucHV0RXJyb3JDbGFzcyk7XG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2Zvcm1TZXR0aW5ncy5lcnJvckNsYXNzKTtcbiAgfTtcblxuICBfaGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2Zvcm1TZXR0aW5ncy5pbnB1dEVycm9yQ2xhc3MpO1xuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2Zvcm1TZXR0aW5ncy5lcnJvckNsYXNzKTtcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBcIlwiO1xuICB9O1xuXG4gIC8qKiBpdGVyYXRlIG92ZXIgaW5wdXRzIGFycmF5IHVzaW5nIHRoZSBzb21lKCkgbWV0aG9kXG4gICAqIEByZXR1cm5zIHtib29sZWFufSAtIHRydWXCoGlmIGF0IGxlYXN0IG9uZSBpbnB1dCBmaWVsZCBpcyBpbnZhbGlkXG4gICAqL1xuICBfaGFzSW52YWxpZElucHV0KCkge1xuICAgIHJldHVybiB0aGlzLl9pbnB1dHNMaXN0LnNvbWUoKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgcmV0dXJuICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQ7XG4gICAgfSk7XG4gIH1cblxuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqICAgcHVibGljIG1ldGhvZHM6ICAgKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4gIC8qKiByZXN0b3JlcyBhIGZvcm0gZWxlbWVudCdzIGRlZmF1bHQgdmFsdWVzIGFuZCBwbGFjZWhvbGRlcnMsXG4gIGluYWN0aXZlIGl0J3Mgc3VibWl0IGJ1dHRvbiAqL1xuICByZXNldEZvcm0oKSB7XG4gICAgdGhpcy5fZm9ybUVsZW1lbnQucmVzZXQoKTtcblxuICAgIHRoaXMuX2lucHV0c0xpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICB0aGlzLl91bmZyZWV6ZVBsYWNlaG9sZGVyKGlucHV0RWxlbWVudCk7XG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xuICAgIH0pO1xuXG4gICAgLyoqIGluYWN0aXZlIHN1Ym1pdCBidXR0b24gYWZ0ZXIgcmVzZXQgKi9cbiAgICB0aGlzLl9kaXNhYmxlU3VibWl0KCk7XG5cbiAgfVxuXG4gIC8qKiBJbml0aWFsaXplcyB0aGUgcGxhY2Vob2xkZXJzIHN0YXR1cyBvZiBhIGRhdGEtZmlsbGVkIGZvcm0tdmFsdWVzLFxuICBpbmFjdGl2ZSBpdCdzIHN1Ym1pdCBidXR0b24gKi9cbiAgbG9hZEZvcm1EYXRhKCkge1xuICAgIHRoaXMuX2lucHV0c0xpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICB0aGlzLl9mcmVlemVQbGFjZWhvbGRlcihpbnB1dEVsZW1lbnQpO1xuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgICB9KTtcbiAgICAvKiogaW5hY3RpdmUgc3VibWl0IGJ1dHRvbiBvbiBmb3JtLW9wZW5pbmcgKi9cbiAgICB0aGlzLl9kaXNhYmxlU3VibWl0KCk7XG4gIH1cblxufVxuXG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4iLCIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4vKiogUG9wdXAgY2xhc3NcbiAqIGhhbmRsZSB0aGUgZnVuY3Rpb25hbGl0eSBvZiBtb2RhbC13aW5kb3dzIChwb3B1cHMpIGVsZW1lbnRzLlxuICogSXQgc3RvcmVzIG1ldGhvZHMgd2hpY2ggb3BlbnMvY2xvc2VzIHBvcHVwIHVuZGVyIGNlcnRhaW4gY29uZGl0aW9ucy5cbiAqXG4gKiBJbmNsdWRlcyBwdWJsaWMgbWV0aG9kczpcbiAqIG9wZW4oKSAsIGNsb3NlKCnCoCAtIGZvciBvcGVuaW5nL2Nsb3NpbmcgYSBwb3B1cCBlbGVtZW50XG4gKiBzZXRFdmVudExpc3RlbmVycygpIHdoaWNoIHVzZXPCoGV2ZW50IGxpc3RlbmVycyB0byB0cmlnZ2VyIHRoaXMgZnVuY3Rpb25hbGl0eSxcbiAqIHN1Y2ggYXMgY2xvc2luZyB0aGUgcG9wdXAgYnkgcHJlc3NpbmcgaXRzIGNsb3NlIGljb24uXG4gKlxuICogSW5jbHVkZXMgcHJpdmF0ZSBtZXRob2RzIHdoaWNoIGRlc2lnbmVkIHRvIG1heGltaXplIHRoZSB1c2VyIGV4cGVyaWVuY2UsXG4gKiBhbmQgYWxsb3cgbW9yZSBmbGV4aWJsZSB3YXlzIHRvIGNsb3NlIHRoZSBwb3B1cCB3aW5kb3cuXG4gKlxuICogSXQgaGFzIDIgZXh0ZW5zaW9uIGZvciBzZXR0aW5nIHRoZSBmdW5jdGlvbmFsaXR5IG9mIHNwZWNpYWwgcG9wdXBzOlxuICogUG9wdXBXaXRoSW1hZ2UgLSBmb3IgYSBwb3B1cCB0aGF0IGNvbnRhaW4gaW1hZ2UgYW5kIGl0cyBjYXB0aW9uXG4gKiBQb3B1cFdpdGhGb3JtIC0gZm9yIGEgcG9wdXAgdGhhdCBjb250YWluIGEgZm9ybVxuICpcbiAqIEBtb2R1bGUgUG9wdXBcbiAqL1xuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG5pbXBvcnQge1xuICBwb3B1cFNldHRpbmdzXG59IGZyb20gXCIuLi8uLi91dGlscy9jb25zdGFudHMuanNcIjtcblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIFBvcHVwLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcG9wdXBTZWxlY3RvciAtIGEgQ1NTIGNsYXNzIHNlbGVjdG9yIG9mIHRoZSBwb3B1cCBlbGVtZW50LlxuICAgKi9cbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgIHRoaXMuX3BvcHVwRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5fY2xvc2VQb3B1cEJ1dHRvbkVsZW1lbnQgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNldHRpbmdzLmNsb3NlQnV0dG9uU2VsZWN0b3IpO1xuICAgIC8qKiBiaW5kKCkgbWV0aG9kIHVzZWQgdG8gcHJldmVudCBsb29zaW5nICd0aGlzJyB3aGVuIGEgZnVuY3Rpb24gaXMgdXNlZCBhcyBhIGNhbGxiYWNrICovXG4gICAgdGhpcy5jbG9zZVBvcHVwID0gdGhpcy5jbG9zZVBvcHVwLmJpbmQodGhpcyk7XG4gICAgdGhpcy5faGFuZGxlRXNjQ2xvc2UgPSB0aGlzLl9oYW5kbGVFc2NDbG9zZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX2hhbmRsZUZvY3VzT3V0UG9wdXAgPSB0aGlzLl9oYW5kbGVGb2N1c091dFBvcHVwLmJpbmQodGhpcyk7XG4gIH1cblxuICAvKiogYWxsb3dzIHRoZSB1c2VycyB0byBjbG9zZSBhbiBvcGVuIHBvcHVwIGJ5IHByZXNzaW5nIHRoZSBFc2Mga2V5ICovXG4gIF9oYW5kbGVFc2NDbG9zZShldnQpIHtcbiAgICBjb25zdCBwcmVzc2VkS2V5ID0gZXZ0LmtleTtcbiAgICBpZiAocHJlc3NlZEtleSA9PT0gXCJFc2NhcGVcIikge1xuICAgICAgdGhpcy5jbG9zZVBvcHVwKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqIGFsbG93cyB0aGUgdXNlcnMgdG8gY2xvc2UgdGhlIHBvcHVwIGJ5IGNsaWNraW5nIG9uIHRoZSBvdmVybGF5LCB0aGUgc2hhZGVkIGFyZWEgYXJvdW5kIHRoZSBwb3B1cCAqL1xuICBfaGFuZGxlRm9jdXNPdXRQb3B1cChldnQpIHtcbiAgICAvKiogaWYgdGhlIGZvY3VzIGlzIG91dHNpZGUgdGhlIHBvcHVwIGNvbnRlbnQgKi9cbiAgICBpZiAoZXZ0LnRhcmdldCA9PSB0aGlzLl9wb3B1cEVsZW1lbnQpIHtcbiAgICAgIHRoaXMuY2xvc2VQb3B1cCgpO1xuICAgIH1cbiAgfTtcblxuICAvKiogb3BlbnMgdGhlIHBvcHVwIHdpbmRvdyAqL1xuICBvcGVuUG9wdXAoKSB7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5hZGQocG9wdXBTZXR0aW5ncy5vcGVuUG9wdXBDbGFzcyk7XG4gICAgdGhpcy5fc2V0VGVtcEV2ZW50TGlzdGVuZXJzKCk7XG4gIH07XG5cbiAgLyoqIGNsb3NlcyB0aGUgcG9wdXAgd2luZG93ICovXG4gIGNsb3NlUG9wdXAoKSB7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUocG9wdXBTZXR0aW5ncy5vcGVuUG9wdXBDbGFzcyk7XG4gICAgdGhpcy5fcmVtb3ZlVGVtcEV2ZW50TGlzdGVuZXJzKCk7XG4gIH07XG5cbiAgLyoqIGFkZCB0ZW1wb3JhcnkgTGlzdGVuZXJzIGZvciBldmVudHMgb2YgcG9wdXAgY2xvc2luZyAqL1xuICBfc2V0VGVtcEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX2Nsb3NlUG9wdXBCdXR0b25FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLmNsb3NlUG9wdXApO1xuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLl9oYW5kbGVGb2N1c091dFBvcHVwKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICB9O1xuXG4gIC8qKiByZW1vdmUgdGhlIHRlbXBvcmFyeSBMaXN0ZW5lcnMgKi9cbiAgX3JlbW92ZVRlbXBFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9jbG9zZVBvcHVwQnV0dG9uRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5jbG9zZVBvcHVwKTtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5faGFuZGxlRm9jdXNPdXRQb3B1cCk7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcbiAgfTtcblxufVxuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuLyoqIFBvcHVwV2l0aEZvcm0gY2xhc3MgLSBleHRlbnNpb24gb2bCoFBvcHVwIGNsYXNzXG4gKiBoYW5kbGUgdGhlIGZ1bmN0aW9uYWxpdHkgb2YgbW9kYWwgd2luZG93IHdoaWNoIGNvbnRhaW4gYSBmb3JtXG4gKlxuICogSW5jbHVkZXMgbWV0aG9kcyB3aGljaCBvcGVucy9jbG9zZXMgcG9wdXAsXG4gKiBhbmQgY29uc2lkZXJhdGVzIHNwZWNpYWwgY29uZGl0aW9ucyBvZiBmb3JtIChhcyBzdWJtaXQpLlxuICpcbiAqIEl0IGhhcyBhIHB1YmxpYyBtZXRob2QsIHNldEV2ZW50TGlzdGVuZXJzKCkgd2hpY2ggYWN0aXZhdGUgdGhlIGZvcm0uXG4gKlxuICogQG1vZHVsZSBQb3B1cFdpdGhGb3JtXG4gKi9cblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuaW1wb3J0IHtcbiAgcG9wdXBTZXR0aW5ncyxcbiAgcG9wdXBGb3JtU2V0dGluZ3Ncbn0gZnJvbSBcIi4uLy4uL3V0aWxzL2NvbnN0YW50cy5qc1wiO1xuXG5pbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gXCIuLi9Gb3JtVmFsaWRhdG9yL0Zvcm1WYWxpZGF0b3JcIjtcblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIFBvcHVwIHdpdGggYSBmb3JtXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwb3B1cFNlbGVjdG9yIC0gYSBDU1MgY2xhc3Mgc2VsZWN0b3Igb2YgdGhlIHBvcHVwIGVsZW1lbnQuXG4gICAqIEBjYWxsYmFjayBoYW5kbGVGb3JtU3VibWl0RGF0YSAtIGEgZnVuY3Rpb24gd2hpY2ggY2FsbHMgd2hlbiB0aGUgZm9ybeKAmXPCoHN1Ym1pdMKgZXZlbnQgZmlyZXMuXG4gICAqL1xuICAvLyAgIEBwYXJhbSB7c3RyaW5nfSBvcGVuQnV0dG9uU2VsZWN0b3IgLSBhIENTUyBjbGFzcyBzZWxlY3RvciBvZiB0aGUgcG9wdXAgZWxlbWVudC5cblxuICBjb25zdHJ1Y3Rvcih7XG4gICAgcG9wdXBTZWxlY3RvcixcbiAgICBoYW5kbGVGb3JtU3VibWl0RGF0YVxuICB9KSB7XG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5fZm9ybUVsZW1lbnQgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cEZvcm1TZXR0aW5ncy5wb3B1cEZvcm1TZWxlY3Rvcik7XG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdERhdGEgPSBoYW5kbGVGb3JtU3VibWl0RGF0YTtcbiAgICAvKiogYmluZCgpIG1ldGhvZCB1c2VkIHRvIHByZXZlbnQgbG9vc2luZyAndGhpcycgd2hlbiBhIGZ1bmN0aW9uIGlzIHVzZWQgYXMgYSBjYWxsYmFjayAqL1xuICAgIHRoaXMuY2xvc2VQb3B1cCA9IHRoaXMuY2xvc2VQb3B1cC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSB0aGlzLl9oYW5kbGVGb3JtU3VibWl0LmJpbmQodGhpcyk7XG4gIH1cblxuICAvKiogY29sbGVjdHMgZGF0YSBmcm9tIGFsbCB0aGUgaW5wdXQgZmllbGRzIGFuZCByZXR1cm5zIHRoYXQgZGF0YSBhcyBhbiBvYmplY3QgKi9cbiAgX2dldElucHV0VmFsdWVzKCkge1xuICAgIHRoaXMuX2lucHV0TGlzdCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwocG9wdXBGb3JtU2V0dGluZ3MucG9wdXBGb3JtSW5wdXRTZWxlY3Rvcik7XG4gICAgdGhpcy5fZm9ybVZhbHVlcyA9IHt9O1xuXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goaW5wdXQgPT4gdGhpcy5fZm9ybVZhbHVlc1tpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlKTtcblxuICAgIHJldHVybiB0aGlzLl9mb3JtVmFsdWVzO1xuICB9XG5cbiAgLyoqIG1vZGlmaWVzIHRoZcKgcGFyZW50IG1ldGhvZCBpbiBvcmRlciB0byByZXNldCB0aGUgZm9ybSBvbmNlIHRoZSBwb3B1cCBpcyBjbG9zZWQgKi9cbiAgY2xvc2VQb3B1cCgpIHtcbiAgICBzdXBlci5jbG9zZVBvcHVwKCk7XG4gICAgdGhpcy5fZm9ybUVsZW1lbnQucmVzZXQoKTtcbiAgfTtcblxuICBfaGFuZGxlRm9ybVN1Ym1pdChldnQpIHtcbiAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0RGF0YSh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKTtcbiAgICB0aGlzLmNsb3NlUG9wdXAoKTtcbiAgfTtcblxuICAvKiogbW9kaWZpZXMgdGhlwqBwYXJlbnQgbWV0aG9kcyBpbiBvcmRlciB0byBhZGQgdGhlwqBgc3VibWl0YMKgZXZlbnQgaGFuZGxlciB0byB0aGUgZm9ybTogKi9cblxuICBfc2V0VGVtcEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHN1cGVyLl9zZXRUZW1wRXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLl9mb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KTtcbiAgfTtcblxuICBfcmVtb3ZlVGVtcEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHN1cGVyLl9yZW1vdmVUZW1wRXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLl9mb3JtRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdzdWJtaXQnLCB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KTtcbiAgfTtcblxufVxuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuLyoqIFRleHRDb250YWluZXIgY2xhc3NcbiAqIENvbnRhaW4gVGV4dENvbnRhaW5lciBjbGFzcywgd2hpY2ggcmVzcG9uc2libGUgZm9yIGRlYWxpbmcgd2l0aCBmaWVsZHMgb2YgdGV4dCBhbmQgdGhlaXIgZGF0YSxcbiAqIHRocm91Z2ggYSBjYWxsYmFjayBmdW5jdGlvbnMuXG4gKlxuICogSGFuZHkgZm9yIGNhc2VzIHdoZW4gdGhlIHJlcXVpcmVkIGZ1bmN0aW9uYWxpdHkgb2YgdGV4dCBlbGVtZW50cyBpcyByZXBlYXRlZC5cbiAqIEl0IGhhcyBwdWJsaWMgbWV0aG9kcyBmb3IgYW4gZWFzeSBhY2Nlc3MuXG4gKlxuICogQG1vZHVsZSBUZXh0Q29udGFpbmVyXG4gKi9cblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGV4dENvbnRhaW5lciB7XG4gIC8qKlxuICAgKiByZW5kZXJzIGEgbGlzdCBvZiBlbGVtZW50cyBvbiBhIHBhZ2VcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNvbnRhaW5lclNlbGVjdG9yIC0gYSBDU1MgY2xhc3Mgc2VsZWN0b3Igb2YgdGhlIGNvbnRhaW5lciBlbGVtZW50IHdoaWNoIGNvbnRhaW5zIHRleHQgZmllbGRzIGVsZW1lbnRzLlxuICAgKiBAcGFyYW0ge09iamVjdH0gaW5pdGlhbFNlY3Rpb24gLSBvYmplY3Qgd2l0aCAyIHByb3BlcnRpZXMgKHRleHRJdGVtc8KgYW5kwqByZW5kZXJBbGxJdGVtcykuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBpbml0aWFsU2VjdGlvbi50ZXh0SXRlbXMgLSBzZXJ2ZXMgYXMgYW4gb2JqZWN0IG9mIGVsZW1lbnRzLWRhdGEsIHdoaWNoIGxvYWRzIG9uIGEgcGFnZSB3aGVuIGluaXRpYWxpemluZyB0aGUgY2xhc3MuXG4gICAqIEBjYWxsYmFjayBpbml0aWFsU2VjdGlvbi5yZW5kZXJBbGxJdGVtcyAtIGEgZnVuY3Rpb24gd2hpY2ggY2FsbHMgd2hlbiB0aGUgcGFnZSBpcyBsb2FkaW5nLlxuICAgKiBAY2FsbGJhY2sgaGFuZGxlVGV4dEl0ZW1zIC0gYSBmdW5jdGlvbiB3aGljaCByZXNwb25zaWJsZSBmb3IgYSBjZXJ0YWluIGFjdGl2YXRpb24gZm9yIGFsbCBvZiB0aGUgdGV4dCBjb21wb25lbnRzLCBhZnRlciB0aGUgaW5pdGlhbCBsb2FkaW5nLlxuICAgKi9cbiAgY29uc3RydWN0b3Ioe1xuICAgIGNvbnRhaW5lclNlbGVjdG9yLFxuICAgIGluaXRpYWxTZWN0aW9uLFxuICAgIGhhbmRsZVRleHRJdGVtc1xuICB9KSB7XG4gICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJTZWxlY3Rvcik7XG4gICAgdGhpcy5fdGV4dEl0ZW1zID0gaW5pdGlhbFNlY3Rpb24udGV4dEl0ZW1zO1xuICAgIHRoaXMuX3JlbmRlckFsbEl0ZW1zID0gaW5pdGlhbFNlY3Rpb24ucmVuZGVyQWxsSXRlbXM7XG4gICAgdGhpcy5oYW5kbGVUZXh0SXRlbXMgPSBoYW5kbGVUZXh0SXRlbXM7XG4gIH07XG5cbiAgaW5pdGlhbGl6ZUNvbnRhaW5lclRleHQoKSB7XG4gICAgdGhpcy5fcmVuZGVyQWxsSXRlbXModGhpcy5fdGV4dEl0ZW1zKTtcbiAgfVxuXG4gIHJlc2V0SXRlbXMobmV3SXRlbXMpIHtcbiAgICB0aGlzLl90ZXh0SXRlbXMgPSBuZXdJdGVtcztcbiAgICB0aGlzLmluaXRpYWxpemVDb250YWluZXJUZXh0KCk7XG4gIH07XG5cbiAgc2V0SXRlbVRleHRDb250ZW50KHtcbiAgICBzb3VyY2VFbGVtZW50U2VsZWN0b3IsXG4gICAgbmV3VGV4dFZhbHVlXG4gIH0pIHtcbiAgICBjb25zdCBzb3VyY2VFbGVtZW50ID0gdGhpcy5fY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3Ioc291cmNlRWxlbWVudFNlbGVjdG9yKTtcbiAgICBzb3VyY2VFbGVtZW50LnRleHRDb250ZW50ID0gbmV3VGV4dFZhbHVlO1xuICB9O1xuXG4gIHNldEl0ZW1WYWx1ZSh7XG4gICAgc291cmNlRWxlbWVudFNlbGVjdG9yLFxuICAgIG5ld1ZhbHVlXG4gIH0pIHtcbiAgICBjb25zdCBzb3VyY2VFbGVtZW50ID0gdGhpcy5fY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3Ioc291cmNlRWxlbWVudFNlbGVjdG9yKTtcbiAgICBzb3VyY2VFbGVtZW50LnZhbHVlID0gbmV3VmFsdWU7XG4gIH07XG5cbn1cblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbiIsIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiogIFRoZSBwcmltYXJ5IG1vZHVsZSBvZiB0aGlzIHByb2plY3QuXG4gKiBDb250YWluIGFsbCB0aGUgc3Blc2lmaWMgY29kZSBhbmQgZnVuY3Rpb25zIHdoaWNoIHVuaXF1ZSB0byB0aGlzIHNwZWNpZmljIHBhZ2UuXG4gKlxuICogSW5jbHVkZXM6XG4gKiBET00gRWxlbWVudHMgU2VsZWN0aW5nXG4gKiBDcmVhdGlvbiBvZiBuZXcgY2xhc3MgaW5zdGFuY2VzIGZvciBGb3JtcyBhbmQgQ2FyZHMsIGJ5IGRhdGEgdHJhbnNmZXJyaW5nLlxuICogZGVzY3JpcHRpb25zIG9mIHRoZSBpbnRlcmFjdGlvbnMgYmV0d2VlbiB0aGVzZSBjbGFzc2VzLCBkZWZpbmluZyB0aGVpciByZWxhdGlvbnNoaXAuXG4gKiB0cmlnZ2VyZWQgZnVuY3Rpb25zIC0gdXNlZCBieSBjYWxsaW5nXG4gKlxuICogQG1vZHVsZSBpbmRleFxuICovXG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbi8vIHRoZSBtYWluIHN0eWxlc2hlZXRzIGZpbGVcbmltcG9ydCBcIi4vaW5kZXguY3NzXCI7XG5cbi8vIGxvY2FsIGltYWdlcyBhcyBzdHJpbmdzIC0gdXNpbmcgYW4gYXJyYXkgb2Ygb2JqZWN0cyB0byBjcmVhdGUgRE9NIGVsZW1lbnRzIHRvIGFkZCB0byB0aGUgcGFnZS5cbmltcG9ydCBsb2dvU3ZnIGZyb20gXCIuLi9pbWFnZXMvbG9nby5zdmdcIjtcbmltcG9ydCBwcm9maWxlSW1hZ2VTcmMgZnJvbSBcIi4uL2ltYWdlcy9wcm9maWxlLXBpY3R1cmUucG5nXCI7XG5cblxuaW1wb3J0IHtcbiAgaW5pdGlhbENhcmRzXG59IGZyb20gXCIuLi9zY3JpcHRzL2RhdGEvY2FyZHMuanNcIjtcblxuaW1wb3J0IHtcbiAgaW5pdGlhbFVzZXJQcm9maWxlXG59IGZyb20gXCIuLi9zY3JpcHRzL2RhdGEvdXNlclByb2ZpbGUuanNcIjtcblxuaW1wb3J0IHtcbiAgZm9ybVNldHRpbmdzLFxuICBjYXJkU2V0dGluZ3MsXG4gIHBvcHVwU2V0dGluZ3MsXG4gIHBvcHVwRm9ybVNldHRpbmdzLFxuICBwb3B1cEltYWdlU2V0dGluZ3MsXG4gIHVzZXJJbmZvUHJvZmlsZVNlbGVjdG9yc1xufSBmcm9tIFwiLi4vc2NyaXB0cy91dGlscy9jb25zdGFudHMuanNcIjtcblxuLy8gY29tcG9uZW50c1xuaW1wb3J0IENhcmQgZnJvbSBcIi4uL3NjcmlwdHMvY29tcG9uZW50cy9DYXJkL0NhcmQuanNcIjtcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gXCIuLi9zY3JpcHRzL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci9Gb3JtVmFsaWRhdG9yLmpzXCI7XG5pbXBvcnQgUG9wdXAgZnJvbSBcIi4uL3NjcmlwdHMvY29tcG9uZW50cy9Qb3B1cC9Qb3B1cC5qc1wiO1xuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuLi9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXAvUG9wdXBXaXRoSW1hZ2UuanNcIjtcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gXCIuLi9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXAvUG9wdXBXaXRoRm9ybS5qc1wiO1xuaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4uL3NjcmlwdHMvY29tcG9uZW50cy9TZWN0aW9uL1NlY3Rpb24uanNcIjtcbmltcG9ydCBVc2VySW5mbyBmcm9tIFwiLi4vc2NyaXB0cy9jb21wb25lbnRzL1VzZXJJbmZvL1VzZXJJbmZvLmpzXCI7XG5pbXBvcnQgVGV4dENvbnRhaW5lciBmcm9tIFwiLi4vc2NyaXB0cy9jb21wb25lbnRzL1RleHRDb250YWluZXIvVGV4dENvbnRhaW5lci5qc1wiO1xuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4vKioqKioqKioqKioqKioqKioqKioqKioqICAgRE9NIEVsZW1lbnRzIFNlbGVjdGluZyAgICoqKioqKioqKioqKioqKioqKioqKioqL1xuXG5jb25zdCBjb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjb250ZW50XCIpO1xuXG4vKiogcHJvZmlsZSAqL1xuY29uc3QgcHJvZmlsZSA9IGNvbnRlbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlXCIpO1xuY29uc3QgcHJvZmlsZUluZm8gPSBwcm9maWxlLnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9faW5mb1wiKTtcbmNvbnN0IHByb2ZpbGVFZGl0QnV0dG9uID0gcHJvZmlsZUluZm8ucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19lZGl0LWJ1dHRvblwiKTtcbmNvbnN0IGFkZENhcmRCdXR0b24gPSBwcm9maWxlLnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYWRkLWJ1dHRvblwiKTtcbmNvbnN0IHByb2ZpbGVOYW1lID0gcHJvZmlsZUluZm8ucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19uYW1lXCIpO1xuY29uc3QgcHJvZmlsZURldGFpbHMgPSBwcm9maWxlSW5mby5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2RldGFpbHNcIik7XG5cbi8qKiBlZGl0LXByb2ZpbGUgcG9wdXAgKi9cbmNvbnN0IGVkaXRQcm9maWxlUG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2VkaXQtcHJvZmlsZS1mb3JtLXBvcHVwXCIpO1xuY29uc3QgZWRpdFByb2ZpbGVQb3B1cENvbnRhaW5lciA9IGVkaXRQcm9maWxlUG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fY29udGFpbmVyXCIpO1xuY29uc3QgZWRpdFByb2ZpbGVDbG9zZUJ1dHRvbiA9IGVkaXRQcm9maWxlUG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fY2xvc2UtYnV0dG9uXCIpO1xuY29uc3QgZWRpdFByb2ZpbGVGb3JtID0gZWRpdFByb2ZpbGVQb3B1cC5xdWVyeVNlbGVjdG9yKFwiI2VkaXQtcHJvZmlsZS1mb3JtXCIpO1xuXG4vKiogZWRpdC1wcm9maWxlIGZvcm0gKi9cbmNvbnN0IGVkaXRQcm9maWxlRm9ybVRpdGxlID0gZWRpdFByb2ZpbGVGb3JtLnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9fdGl0bGVcIik7XG5jb25zdCBlZGl0UHJvZmlsZVNhdmVCdXR0b24gPSBlZGl0UHJvZmlsZUZvcm0ucXVlcnlTZWxlY3RvcihcIi5mb3JtX19zdWJtaXQtYnV0dG9uXCIpO1xuLyoqIHVzZXIgaW5wdXQgZmllbGRzICovXG5jb25zdCBwcm9maWxlTmFtZUlucHV0ID0gZWRpdFByb2ZpbGVGb3JtLnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9faW5wdXRfdmFsdWVfcHJvZmlsZS1uYW1lXCIpO1xuY29uc3QgcHJvZmlsZUpvYklucHV0ID0gZWRpdFByb2ZpbGVGb3JtLnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9faW5wdXRfdmFsdWVfcHJvZmlsZS1qb2JcIik7XG5cbi8qKiBnYWxsZXJ5ICovXG5jb25zdCBnYWxsZXJ5ID0gY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmdhbGxlcnlcIik7XG5cbi8qKiBjYXJkLXRlbXBsYXRlICovXG5jb25zdCBjYXJkVGVtcGxhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NhcmQtdGVtcGxhdGVcIik7XG5jb25zdCBjYXJkRWxlbWVudCA9IGNhcmRUZW1wbGF0ZS5xdWVyeVNlbGVjdG9yKCcuY2FyZCcpO1xuXG4vKiogYWRkLWNhcmQgKi9cbmNvbnN0IGFkZENhcmRQb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYWRkLWNhcmQtZm9ybS1wb3B1cFwiKTtcbmNvbnN0IGFkZENhcmRQb3B1cENvbnRhaW5lciA9IGFkZENhcmRQb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19jb250YWluZXJcIik7XG5jb25zdCBhZGRDYXJkQ2xvc2VCdXR0b24gPSBhZGRDYXJkUG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fY2xvc2UtYnV0dG9uXCIpO1xuY29uc3QgYWRkQ2FyZEZvcm0gPSBhZGRDYXJkUG9wdXAucXVlcnlTZWxlY3RvcihcIiNhZGQtY2FyZC1mb3JtXCIpO1xuXG4vKiogYWRkLWNhcmQgZm9ybSAqL1xuY29uc3QgYWRkQ2FyZEZvcm1UaXRsZSA9IGFkZENhcmRGb3JtLnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9fdGl0bGVcIik7XG5jb25zdCBhZGRDYXJkQ3JlYXRlQnV0dG9uID0gYWRkQ2FyZEZvcm0ucXVlcnlTZWxlY3RvcihcIi5mb3JtX19zdWJtaXQtYnV0dG9uXCIpO1xuXG4vKiogY2FyZCBwb3B1cCAqL1xuY29uc3QgY2FyZFBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjYXJkLXBvcHVwXCIpO1xuY29uc3QgY2FyZFBvcHVwQ29udGFpbmVyID0gY2FyZFBvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2NvbnRhaW5lcl92YWx1ZV9jYXJkLXBvcHVwXCIpO1xuY29uc3QgY2FyZFBvcHVwQ2xvc2VCdXR0b24gPSBjYXJkUG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fY2xvc2UtYnV0dG9uX3BsYWNlZF9jYXJkLXBvcHVwXCIpO1xuY29uc3QgY2FyZENsb3NlVXBQaWN0dXJlID0gY2FyZFBvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Nsb3NlLXVwLXBpY3R1cmVcIik7XG5jb25zdCBjYXJkUGljdHVyZURldGFpbHMgPSBjYXJkUG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fcGljdHVyZS1kZXRhaWxzXCIpO1xuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICAgQ29uc3RhbnRzICAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4vKiogY3JlYXRlIGNhcmQtcG9wdXAgKHBvcHVwIHdpdGggY2FyZCwgY29udGFpbnMgaW1hZ2UgJiBjYXB0aW9uKSAqL1xuY29uc3QgY2xvc2VVcENhcmRQb3B1cCA9IG5ldyBQb3B1cFdpdGhJbWFnZShgI2NhcmQtcG9wdXBgKTtcblxuLyoqIGNyZWF0ZXMgYSBzZWN0aW9uIGdhbGxlcnkgb2YgY2FyZHMgICovXG5jb25zdCBjYXJkc0dhbGxlcnlTZWN0aW9uID0gbmV3IFNlY3Rpb24oe1xuICBpbml0aWFsU2VjdGlvbjoge1xuICAgIGl0ZW1zOiBpbml0aWFsQ2FyZHMsXG4gICAgcmVuZGVySXRlbTogKGNhcmREYXRhSXRlbSkgPT4ge1xuICAgICAgY29uc3QgbmV3Q2FyZEVsZW1lbnQgPSBnZXRDYXJkV2l0aFBvcHVwKGNhcmREYXRhSXRlbSwgY2xvc2VVcENhcmRQb3B1cCk7XG4gICAgICBjYXJkc0dhbGxlcnlTZWN0aW9uLmFkZEl0ZW1Ub0JlZ2lubmluZyhuZXdDYXJkRWxlbWVudCk7XG4gICAgfVxuICB9LFxuICBjb250YWluZXJTZWxlY3RvcjogYCNnYWxsZXJ5YFxufSk7XG5cbi8qKiBjcmVhdGVzIHRoZSB1c2VyIGluZm8gd2hpY2ggaXMgcGFydCBvZiB0aGUgcHJvZmlsZSBzZWN0aW9uICovXG5jb25zdCB1c2VySW5mb1Byb2ZpbGUgPSBuZXcgVXNlckluZm8odXNlckluZm9Qcm9maWxlU2VsZWN0b3JzKTtcblxuLyoqIGNyZWF0ZXMgdGhlIHNlY3Rpb24gcHJvZmlsZSAgKi9cbmNvbnN0IHByb2ZpbGVTZWN0aW9uID0gbmV3IFRleHRDb250YWluZXIoe1xuICBjb250YWluZXJTZWxlY3RvcjogYCNwcm9maWxlYCxcbiAgaW5pdGlhbFNlY3Rpb246IHtcbiAgICB0ZXh0SXRlbXM6IGluaXRpYWxVc2VyUHJvZmlsZSxcbiAgICByZW5kZXJBbGxJdGVtczogKHVzZXJEYXRhSXRlbXMpID0+IHtcbiAgICAgIGZvciAoY29uc3QgW2l0ZW1LZXksIGl0ZW1WYWx1ZV0gb2YgT2JqZWN0LmVudHJpZXModXNlckRhdGFJdGVtcykpIHtcbiAgICAgICAgcHJvZmlsZVNlY3Rpb24uc2V0SXRlbVRleHRDb250ZW50KHtcbiAgICAgICAgICBzb3VyY2VFbGVtZW50U2VsZWN0b3I6IGAjJHtpdGVtS2V5fS1wcm9maWxlLWxvYWQtdmFsdWVgLFxuICAgICAgICAgIG5ld1RleHRWYWx1ZTogaXRlbVZhbHVlXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgaGFuZGxlVGV4dEl0ZW1zOiAobmV3VXNlckluZm8pID0+IHtcbiAgICB1c2VySW5mb1Byb2ZpbGUuc2V0VXNlckluZm8obmV3VXNlckluZm8pO1xuICB9XG59KVxuXG4vKiogY3JlYXRlcyB0aGUgc2VjdGlvbiBlZGl0LXByb2ZpbGUgZm9ybSAgKi9cbmNvbnN0IHByb2ZpbGVGb3JtU2VjdGlvbiA9IG5ldyBUZXh0Q29udGFpbmVyKHtcbiAgY29udGFpbmVyU2VsZWN0b3I6IGAjZWRpdC1wcm9maWxlLWZvcm1gLFxuICBpbml0aWFsU2VjdGlvbjoge1xuICAgIHRleHRJdGVtczogaW5pdGlhbFVzZXJQcm9maWxlLFxuICAgIHJlbmRlckFsbEl0ZW1zOiAodXNlcklucHV0SXRlbXMpID0+IHtcbiAgICAgIGZvciAoY29uc3QgW2l0ZW1LZXksIGl0ZW1WYWx1ZV0gb2YgT2JqZWN0LmVudHJpZXModXNlcklucHV0SXRlbXMpKSB7XG4gICAgICAgIHByb2ZpbGVGb3JtU2VjdGlvbi5zZXRJdGVtVmFsdWUoe1xuICAgICAgICAgIHNvdXJjZUVsZW1lbnRTZWxlY3RvcjogYCNwcm9maWxlLSR7aXRlbUtleX0taW5wdXRgLFxuICAgICAgICAgIG5ld1ZhbHVlOiBpdGVtVmFsdWVcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9LFxuICBoYW5kbGVUZXh0SXRlbXM6ICgpID0+IHtcbiAgICBjb25zdCBjdXJlbnRVc2VyRGF0YSA9IHVzZXJJbmZvUHJvZmlsZS5nZXRVc2VySW5mbygpO1xuICAgIHByb2ZpbGVGb3JtU2VjdGlvbi5yZXNldEl0ZW1zKGN1cmVudFVzZXJEYXRhKTtcbiAgfVxufSlcblxuLyoqKioqKioqKiogICBmb3JtcyAgICoqKioqKioqKiovXG5cbi8qKiBmb3JtcyB2YWxpZGF0aW9uIC0gY3JlYXRlcyB2YWxpZGF0b3JzIGZvciB0aGUgZm9ybXMgKi9cbmNvbnN0IHZhbGlkYXRhYmxlRm9ybXMgPSBbXTtcblxudmFsaWRhdGFibGVGb3Jtcy5lZGl0UHJvZmlsZSA9IG5ldyBGb3JtVmFsaWRhdG9yKGZvcm1TZXR0aW5ncywgZWRpdFByb2ZpbGVGb3JtKTtcbnZhbGlkYXRhYmxlRm9ybXMuYWRkQ2FyZCA9IG5ldyBGb3JtVmFsaWRhdG9yKGZvcm1TZXR0aW5ncywgYWRkQ2FyZEZvcm0pO1xuXG5cbi8qKiBmb3JtcyBhY3RpdmF0aW9uIC0gY3JlYXRlcyBhY3RpdmF0b3JzIGZvciB0aGUgZm9ybXMqL1xuXG5jb25zdCBhZGRDYXJkQWN0aXZlUG9wdXBGb3JtID0gbmV3IFBvcHVwV2l0aEZvcm0oe1xuICBwb3B1cFNlbGVjdG9yOiBgI2FkZC1jYXJkLWZvcm0tcG9wdXBgLFxuICBoYW5kbGVGb3JtU3VibWl0RGF0YTogKG5ld0NhcmREYXRhKSA9PiB7XG4gICAgdmFsaWRhdGFibGVGb3Jtcy5hZGRDYXJkLnJlc2V0Rm9ybSgpO1xuICAgIC8qKiBhdm9pZCBzdWJtaXQgYWZ0ZXIgY2xvc2luZyBmb3JtLXBvcHVwIGJ5IHBvcHVwIHV0aWxzIChhcyBFU0MpICovXG4gICAgaWYgKGFkZENhcmRQb3B1cC5jbGFzc0xpc3QuY29udGFpbnMocG9wdXBTZXR0aW5ncy5vcGVuUG9wdXBDbGFzcykpIHtcbiAgICAgIGNhcmRzR2FsbGVyeVNlY3Rpb24ucmVuZGVyTmV3SXRlbShuZXdDYXJkRGF0YSk7XG4gICAgfVxuICB9XG59KTtcblxuY29uc3QgZWRpdFByb2ZpbGVBY3RpdmVQb3B1cEZvcm0gPSBuZXcgUG9wdXBXaXRoRm9ybSh7XG4gIHBvcHVwU2VsZWN0b3I6IGAjZWRpdC1wcm9maWxlLWZvcm0tcG9wdXBgLFxuICBoYW5kbGVGb3JtU3VibWl0RGF0YTogKG5ld1VzZXJQcm9maWxlRGF0YSkgPT4ge1xuICAgIHZhbGlkYXRhYmxlRm9ybXMuZWRpdFByb2ZpbGUucmVzZXRGb3JtKCk7XG4gICAgLyoqIGF2b2lkIHN1Ym1pdCBhZnRlciBjbG9zaW5nIGZvcm0tcG9wdXAgYnkgcG9wdXAgdXRpbHMgKGFzIEVTQykgKi9cbiAgICBpZiAoZWRpdFByb2ZpbGVQb3B1cC5jbGFzc0xpc3QuY29udGFpbnMocG9wdXBTZXR0aW5ncy5vcGVuUG9wdXBDbGFzcykpIHtcbiAgICAgIC8qKiBzZXQgbmV3IHVzZXIgcHJvZmlsZSBkZXRhaWxzICovXG4gICAgICBwcm9maWxlU2VjdGlvbi5oYW5kbGVUZXh0SXRlbXMobmV3VXNlclByb2ZpbGVEYXRhKTtcbiAgICB9XG4gIH1cbn0pO1xuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKiogICBGdW5jdGlvbnMgY2FsbHMgICAqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbi8qKiBlbmFibGVzIGZvcm1zIHZhbGlkYXRpb24gb24gcGFnZSBsb2FkaW5nICovXG52YWxpZGF0YWJsZUZvcm1zLmVkaXRQcm9maWxlLmVuYWJsZVZhbGlkYXRpb24oKTtcbnZhbGlkYXRhYmxlRm9ybXMuYWRkQ2FyZC5lbmFibGVWYWxpZGF0aW9uKCk7XG5cbi8qKiBsb2FkIGluaXRpYWwgZGF0YSAqL1xuY2FyZHNHYWxsZXJ5U2VjdGlvbi5yZW5kZXJJdGVtc0xpc3QoKTtcbnByb2ZpbGVTZWN0aW9uLmluaXRpYWxpemVDb250YWluZXJUZXh0KCk7XG5wcm9maWxlRm9ybVNlY3Rpb24uaW5pdGlhbGl6ZUNvbnRhaW5lclRleHQoKTtcblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKiAgIEV2ZW50IExpc3RlbmVycyAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuYWRkQ2FyZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGFuZGxlT3BlbkFkZENhcmRGb3JtKTtcbnByb2ZpbGVFZGl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoYW5kbGVPcGVuRWRpdFByb2ZpbGVGb3JtKTtcblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuXG4vKioqKioqKioqKioqKioqKioqKioqKioqICAgRnVuY3Rpb25zIGRlY2xlcmF0aW9ucyAgICoqKioqKioqKioqKioqKioqKioqKioqL1xuXG4vKiogcmV0dXJuIGNhcmQgd2l0aCBleHRyYSBmdW5jdGlvbmFsaXR5IG9mIHBvcHVwIHdpdGggaW1hZ2UsIHdoaWNoIGNvbnRhaW5zIHRoZSBjYXJkIGRhdGEgKi9cbmZ1bmN0aW9uIGdldENhcmRXaXRoUG9wdXAoY2FyZERhdGEsIHBvcHVwV2l0aENhcmQpIHtcbiAgY29uc3QgbmV3Q2FyZCA9IG5ldyBDYXJkKHtcbiAgICBkYXRhOiBjYXJkRGF0YSxcbiAgICBjYXJkVGVtcGxhdGVTZWxlY3RvcjogY2FyZFNldHRpbmdzLmNhcmRUZW1wbGF0ZVNlbGVjdG9yLFxuICAgIGNhcmRTZXR0aW5ncyxcbiAgICBoYW5kbGVDYXJkQ2xpY2s6IChjYXJkRGF0YSkgPT4gaGFuZGxlQ2FyZFBvcHVwQ2xpY2soY2FyZERhdGEsIHBvcHVwV2l0aENhcmQpXG4gIH0pO1xuICByZXR1cm4gbmV3Q2FyZC5nZW5lcmF0ZUNhcmQoKTtcbn07XG5cbi8qKiBwcmVzZW50cyB0aGUgY2xvc2VVcENhcmRQb3B1cCB3aGVuIHRoZSB1c2VyIHRyaWdnZXIgaXRzIG9wZW5pbmcgKi9cbmZ1bmN0aW9uIGhhbmRsZUNhcmRQb3B1cENsaWNrKGNhcmREYXRhLCBwb3B1cFdpdGhDYXJkKSB7XG4gIHBvcHVwV2l0aENhcmQub3BlblBvcHVwKHtcbiAgICBsaW5rOiBjYXJkRGF0YS5saW5rLFxuICAgIGNhcHRpb246IGNhcmREYXRhLm5hbWVcbiAgfSk7XG59XG5cbi8qKioqKioqKioqICAgZm9ybXMgICAqKioqKioqKioqL1xuXG5mdW5jdGlvbiBoYW5kbGVPcGVuQWRkQ2FyZEZvcm0oKSB7XG4gIHZhbGlkYXRhYmxlRm9ybXMuYWRkQ2FyZC5yZXNldEZvcm0oKTtcbiAgYWRkQ2FyZEFjdGl2ZVBvcHVwRm9ybS5vcGVuUG9wdXAoKTtcbn07XG5cbmZ1bmN0aW9uIGhhbmRsZU9wZW5FZGl0UHJvZmlsZUZvcm0oKSB7XG4gIC8qKiBsb2FkIGV4aXN0IGRhdGEgKi9cbiAgcHJvZmlsZUZvcm1TZWN0aW9uLmhhbmRsZVRleHRJdGVtcygpO1xuICB2YWxpZGF0YWJsZUZvcm1zLmVkaXRQcm9maWxlLmxvYWRGb3JtRGF0YSgpO1xuXG4gIGVkaXRQcm9maWxlQWN0aXZlUG9wdXBGb3JtLm9wZW5Qb3B1cCgpO1xufTtcblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbiIsIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbi8qKiBQb3B1cFdpdGhJbWFnZSBjbGFzcyAtIGV4dGVuc2lvbiBvZsKgUG9wdXAgY2xhc3NcbiAqIGhhbmRsZSB0aGUgZnVuY3Rpb25hbGl0eSBvZiBtb2RhbCB3aW5kb3cgd2hpY2ggY29udGFpbiBhbiBpbWFnZSBhbG9uZyB3aXRoIGl0J3MgY2FwdGlvblxuICpcbiAqIEluY2x1ZGVzIG1ldGhvZHMgd2hpY2ggb3BlbnMvY2xvc2VzIHBvcHVwLFxuICogYW5kIGNvbnNpZGVyYXRlcyBzcGVjaWFsIGNvbmRpdGlvbnMgb2YgaW1hZ2UgKGFzIGNsb3NlLXVwIGxvb2spLlxuICpcbiAqIEl0IGhhcyBhIHB1YmxpYyBtZXRob2QsIG9wZW5Qb3B1cChpbWFnZURhdGEpLCB3aGljaCBhY2NlcHRzIGFzIGFuIGFyZ3VtZW50IHRoZSBpbmZvcm1hdGlvbiBvZiB0aGUgaW1hZ2UgaXQgY29udGFpbnMuXG4gKlxuICogQG1vZHVsZSBQb3B1cFdpdGhJbWFnZVxuICovXG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbmltcG9ydCB7XG4gIHBvcHVwU2V0dGluZ3MsXG4gIHBvcHVwSW1hZ2VTZXR0aW5nc1xufSBmcm9tIFwiLi4vLi4vdXRpbHMvY29uc3RhbnRzLmpzXCI7XG5cbmltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIFBvcHVwIHdpdGggYW4gaW1hZ2VcbiAgICogQHBhcmFtIHtzdHJpbmd9IHBvcHVwU2VsZWN0b3IgLSBhIENTUyBjbGFzcyBzZWxlY3RvciBvZiB0aGUgcG9wdXAgZWxlbWVudC5cbiAgICovXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9pbWFnZUxpbmtFbGVtZW50ID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBJbWFnZVNldHRpbmdzLnBvcHVwSW1hZ2VTZWxlY3Rvcik7XG4gICAgdGhpcy5faW1hZ2VDYXB0aW9uRWxlbWVudCA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwSW1hZ2VTZXR0aW5ncy5wb3B1cEltYWdlQ2FwcmlvblNlbGVjdG9yKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBvcGVucyB0aGUgcG9wdXAgd2luZG93IHdoaWNoIHByZXNlbnRzIGltYWdlIGFuZCBpdHMgY2FwdGlvbiBieSB0aGUgZGF0YSBpdCBnZXRzXG4gICAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsIHN0cmluZz59IGltYWdlRGF0YSAtIGFuIG9iamVjdCB3aXRoIDIgcHJvcGVydGllcyAobGluaywgY2FwdGlvbikuXG4gICAqL1xuICBvcGVuUG9wdXAoaW1hZ2VEYXRhKSB7XG4gICAgdGhpcy5fc2V0SW1hZ2VEYXRhKGltYWdlRGF0YSk7XG4gICAgdGhpcy5fc2V0UG9wdXBDb250ZW50KCk7XG4gICAgc3VwZXIub3BlblBvcHVwKCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIHNldCB0aGUgaW1hZ2UgZGF0YSAtIHRoZSBpbWFnZSBhbmQgaXRzIGNhcHRpb24gYnkgdGhlIGRhdGEgaXQgZ2V0c1xuICAgKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLCBzdHJpbmc+fSBpbWFnZURhdGEgLSBvYmplY3Qgd2l0aCAyIHByb3BlcnRpZXM6XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpbWFnZURhdGEubGluayAtIHRoZSBpbWFnZcKgc3JjwqBhdHRyaWJ1dGUgdmFsdWUuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpbWFnZURhdGEuY2FwdGlvbiAtIGEgY2FwdGlvbiBmb3IgdGhlIGltYWdlLlxuICAgKi9cbiAgX3NldEltYWdlRGF0YShuZXdJbWFnZURhdGEpIHtcbiAgICB0aGlzLl9pbWFnZUxpbmsgPSBuZXdJbWFnZURhdGEubGluaztcbiAgICB0aGlzLl9pbWFnZUNhcHRpb24gPSBuZXdJbWFnZURhdGEuY2FwdGlvbjtcbiAgfTtcblxuICAvKiogc2V0cyB0aGUgY29udGVudCBvZiB0aGUgcG9wdXAgKGltYWdlIGFuZCBpdHMgY2FwdGlvbikgKi9cbiAgX3NldFBvcHVwQ29udGVudCgpIHtcbiAgICB0aGlzLl9pbWFnZUxpbmtFbGVtZW50LnNyYyA9IHRoaXMuX2ltYWdlTGluaztcbiAgICB0aGlzLl9pbWFnZUxpbmtFbGVtZW50LmFsdCA9IGBjbG9zZSB1cCBwaWN0dXJlIG9mICR7dGhpcy5faW1hZ2VDYXB0aW9ufWA7XG4gICAgdGhpcy5faW1hZ2VDYXB0aW9uRWxlbWVudC50ZXh0Q29udGVudCA9IHRoaXMuX2ltYWdlQ2FwdGlvbjtcbiAgfTtcblxuICBjbG9zZVBvcHVwKCkge1xuICAgIHN1cGVyLmNsb3NlUG9wdXAoKTtcbiAgICBkZWxldGUgdGhpcy5faW1hZ2VMaW5rO1xuICAgIGRlbGV0ZSB0aGlzLl9pbWFnZUNhcHRpb247XG4gIH1cblxufVxuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuLyoqIFNlY3Rpb24gY2xhc3NcbiAqIENvbnRhaW4gU2VjdGlvbiBjbGFzcyB3aGljaCBpcyByZXNwb25zaWJsZSBmb3IgcmVuZGVyaW5nIGEgbGlzdCBvZiBlbGVtZW50cyAoYW4gYXJyYXkgb2YgaXRlbXMpLlxuICogSXQgcmVjZWl2ZXMgdGhlIG1hcmt1cCB0aHJvdWdoIHRoZSBjYWxsYmFjayBmdW5jdGlvbixcbiAqIGFuZCBpbnNlcnRzIGl0IGluIHRoZSBjb250YWluZXIuXG4gKlxuICogSXQgaGFzIHB1YmxpYyBtZXRob2RzOlxuICogcmVuZGVySXRlbXNMaXN0KCkgLSB3aGljaCByZW5kZXJzIGFsbCBkYXRhIGVsZW1lbnRzIG9uIHRoZSBwYWdlLlxuICogYWRkSXRlbVRvQmVnaW5uaW5nKCkgLSB3aGljaCB0YWtlcyBhIERPTSBlbGVtZW50IGFuZCBhZGRzIGl0IHRvIHRoZSBjb250YWluZXIuXG4gKlxuICogQG1vZHVsZSBTZWN0aW9uXG4gKi9cblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XG4gIC8qKlxuICAgKiByZW5kZXJzIGEgbGlzdCBvZiBlbGVtZW50cyBvbiBhIHBhZ2VcbiAgICogQHBhcmFtIHtPYmplY3R9IGluaXRpYWxTZWN0aW9uIC0gb2JqZWN0IHdpdGggMiBwcm9wZXJ0aWVzIChpdGVtc8KgYW5kwqByZW5kZXJJdGVtKS5cbiAgICogQHBhcmFtIHtBcnJheS48T2JqZWN0Pn0gaW5pdGlhbFNlY3Rpb24uaXRlbXMgLSBzZXJ2ZXMgYXMgYW4gYXJyYXkgb2YgZGF0YSwgd2hpY2ggbG9hZHMgb24gYSBwYWdlIHdoZW4gaW5pdGlhbGl6aW5nIHRoZSBjbGFzcy5cbiAgICogQGNhbGxiYWNrIGluaXRpYWxTZWN0aW9uLnJlbmRlckl0ZW0gLSBhIGZ1bmN0aW9uIHdoaWNoIHJlc3BvbnNpYmxlIGZvciByZW5kZXIgZWFjaCBpbmRpdmlkdWFsIGl0ZW0gYXMgZWxlbWVudCBvbiBhIHBhZ2UuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjb250YWluZXJTZWxlY3RvciAtIGEgQ1NTIGNsYXNzIHNlbGVjdG9yIG9mIHRoZSBjb250YWluZXIgZWxlbWVudCB3aGljaCB0aGUgcmVuZGVyZXJlZC1pdGVtcyBhZGQgdG8uXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih7XG4gICAgaW5pdGlhbFNlY3Rpb24sXG4gICAgY29udGFpbmVyU2VsZWN0b3JcbiAgfSkge1xuICAgIHRoaXMuX2l0ZW1zID0gaW5pdGlhbFNlY3Rpb24uaXRlbXM7XG4gICAgdGhpcy5fcmVuZGVySXRlbSA9IGluaXRpYWxTZWN0aW9uLnJlbmRlckl0ZW07XG4gICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJTZWxlY3Rvcik7XG4gIH07XG5cbiAgLyoqIGluaXRpYWxpemluZyB0aGUgY2xhc3MgKi9cbiAgcmVuZGVySXRlbXNMaXN0KCkge1xuICAgIHRoaXMuX2l0ZW1zLmZvckVhY2godGhpcy5fcmVuZGVySXRlbSk7XG4gIH07XG5cbiAgcmVuZGVyTmV3SXRlbShpdGVtKSB7XG4gICAgdGhpcy5faXRlbXMucHVzaChpdGVtKTtcbiAgICB0aGlzLl9yZW5kZXJJdGVtKGl0ZW0pO1xuICB9O1xuXG4gIGFkZEl0ZW1Ub0JlZ2lubmluZyhlbGVtZW50KSB7XG4gICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudCk7XG4gIH07XG5cbiAgLy8gcmVzZXRJdGVtcyhpdGVtcykge1xuICAvLyAgIHRoaXMuX2l0ZW1zID0gaXRlbXM7XG4gIC8vICAgdGhpcy5yZW5kZXJJdGVtc0xpc3QoKTtcbiAgLy8gfTtcblxufVxuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuLyoqIFVzZXJJbmZvIGNsYXNzXG4gKiBDb250YWluIFVzZXJJbmZvIGNsYXNzIHdoaWNoIHJlc3BvbnNpYmxlIGZvciByZW5kZXJpbmcgaW5mb3JtYXRpb24gYWJvdXQgdGhlIHVzZXIgb24gdGhlIHBhZ2UuXG5cbiAqIEl0IGhhcyAyIHB1YmxpYyBtZXRob2RzOlxuICogZ2V0VXNlckluZm8oKSAtIGhhbmR5IGZvciBjYXNlcyB3aGVuIGl0J3MgbmVjZXNzYXJ5IHRvIGRpc3BsYXkgdGhlIHVzZXIgZGF0YSBpbiB0aGUgb3BlbiBmb3JtLlxuICogc2V0VXNlckluZm8oKSAtIHdoaWNoIHRha2VzIG5ldyB1c2VyIGRhdGEgYW5kIGFkZHMgaXQgb24gdGhlIHBhZ2UuXG4gKlxuICogQG1vZHVsZSBVc2VySW5mb1xuICovXG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcbiAgLyoqXG4gICAqIHJlbmRlciB1c2VyIGluZm9ybWF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsIHN0cmluZz59IFVzZXJJbmZvU2VsZWN0b3JzIC0gb2JqZWN0IHdpdGggMiBwcm9wZXJ0aWVzIChuYW1lIGFuZCBqb2IpLFxuICAgKiB3aGljaCBjb250YWluIHRoZSBlbGVtZW50IHNlbGVjdG9ycyBvZiB0aGUgdXNlciBkYXRhOlxuICAgKiBAcGFyYW0gdXNlckluZm9TZWxlY3RvcnMubmFtZSAtIHNlbGVjdG9yIG9mIHRoZSBlbGVtZW50IHRoYXQgY29udGFpbiB0aGUgcHJvZmlsZSBuYW1lLlxuICAgKiBAcGFyYW0gdXNlckluZm9TZWxlY3RvcnMuam9iIC0gc2VsZWN0b3Igb2YgdGhlIGVsZW1lbnQgdGhhdCBjb250YWluIHRoZSBwcm9maWxlIGpvYi5cbiAgICovXG4gIGNvbnN0cnVjdG9yKHVzZXJJbmZvU2VsZWN0b3JzKSB7XG4gICAgdGhpcy5fcHJvZmlsZU5hbWVFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih1c2VySW5mb1NlbGVjdG9ycy5uYW1lKTtcbiAgICB0aGlzLl9wcm9maWxlSm9iRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodXNlckluZm9TZWxlY3RvcnMuam9iKTtcbiAgfVxuXG4gIC8qKlxuICAgKiByZXR1cm5zIGluZm9ybWF0aW9uIGFib3V0IHRoZSB1c2VyXG4gICAqIEByZXR1cm5zIHtPYmplY3QuPHN0cmluZywgc3RyaW5nPn0gLSBhbiBvYmplY3Qgd2hpY2ggY29udGFpbiB0aGUgdXNlciBkYXRhOiAyIHByb3BlcnRpZXMgKGpvYsKgYW5kwqBuYW1lKVxuICAgKi9cbiAgZ2V0VXNlckluZm8oKSB7XG4gICAgY29uc3QgdXNlckluZm8gPSB7fTtcbiAgICB1c2VySW5mby5uYW1lID0gdGhpcy5fcHJvZmlsZU5hbWVFbGVtZW50LnRleHRDb250ZW50O1xuICAgIHVzZXJJbmZvLmpvYiA9IHRoaXMuX3Byb2ZpbGVKb2JFbGVtZW50LnRleHRDb250ZW50O1xuICAgIHJldHVybiB1c2VySW5mbztcbiAgfVxuXG4gIC8qKlxuICAgKiB0YWtlcyBuZXcgdXNlciBkYXRhIGFuZCByZXNldCBpdCBvbiB0aGUgcGFnZVxuICAgKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLCBzdHJpbmc+fSBuZXdVc2VySW5mbyAtIG9iamVjdCB3aXRoIDIgcHJvcGVydGllcyAoam9iwqBhbmTCoG5hbWUpIHdoaWNoIGNvbnRhaW4gdGhlIHVzZXIgZGF0YVxuICAgKiBAcGFyYW0gbmV3VXNlckluZm8ubmFtZSAtIHNlbGVjdG9yIG9mIHRoZSBlbGVtZW50IHRoYXQgY29udGFpbiB0aGUgcHJvZmlsZSBuYW1lLlxuICAgKiBAcGFyYW0gbmV3VXNlckluZm8uam9iIC0gc2VsZWN0b3Igb2YgdGhlIGVsZW1lbnQgdGhhdCBjb250YWluIHRoZSBwcm9maWxlIGpvYi5cbiAgICovXG4gIHNldFVzZXJJbmZvKG5ld1VzZXJJbmZvKSB7XG4gICAgdGhpcy5fcHJvZmlsZU5hbWVFbGVtZW50LnRleHRDb250ZW50ID0gbmV3VXNlckluZm8ubmFtZTtcbiAgICB0aGlzLl9wcm9maWxlSm9iRWxlbWVudC50ZXh0Q29udGVudCA9IG5ld1VzZXJJbmZvLmpvYjtcbiAgfVxuXG59XG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4iXSwibmFtZXMiOlsiaW5pdGlhbFVzZXJQcm9maWxlIiwibmFtZSIsImpvYiIsImZvcm1TZXR0aW5ncyIsImZvcm1TZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwiZml4ZWRQbGFjZWhvbGRlckNsYXNzIiwiY2xvc2VCdXR0b25TZWxlY3RvciIsImNhcmRTZXR0aW5ncyIsImNhcmRTZWxlY3RvciIsImNhcmRUZW1wbGF0ZVNlbGVjdG9yIiwiaW5wdXRDYXJkTmFtZVNlbGVjdG9yIiwiaW5wdXRDYXJkTGlua1NlbGVjdG9yIiwiY2FyZFRpdGxlU2VsZWN0b3IiLCJjYXJkUGljdHVyZVNlbGVjdG9yIiwiY2FyZExpa2VCdXR0b25TZWxlY3RvciIsImNhcmRMaWtlQnV0dG9uQWN0aXZlQ2xhc3MiLCJjYXJkRGVsZXRlQnV0dG9uU2VsZWN0b3IiLCJpbnB1dENhcmROYW1lSUQiLCJpbnB1dENhcmRMaW5rSUQiLCJjYXJkc0NvbnRhaW5lclNlbGVjdG9yIiwicG9wdXBTZXR0aW5ncyIsIkNhcmQiLCJjb25zdHJ1Y3RvciIsImRhdGEiLCJoYW5kbGVDYXJkQ2xpY2siLCJ0aGlzIiwiX25hbWUiLCJfbGluayIsImxpbmsiLCJfY2FyZFRlbXBsYXRlU2VsZWN0b3IiLCJfY2FyZFNldHRpbmdzIiwiX2hhbmRsZUNhcmRDbGljayIsIl9nZXRUZW1wbGF0ZSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJnZW5lcmF0ZUNhcmQiLCJfZWxlbWVudCIsIl9hZGRUZW1wbGF0ZUVsZW1lbnRzIiwiX3NldENhcmRDb250ZW50IiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiX2NhcmRUaXRsZSIsIl9jYXJkUGljdHVyZSIsIl9jYXJkTGlrZUJ1dHRvbiIsIl9jYXJkRGVsZXRlQnV0dG9uIiwidGV4dENvbnRlbnQiLCJzcmMiLCJhbHQiLCJhZGRFdmVudExpc3RlbmVyIiwiX2hhbmRsZUNhcmRMaWtlQ2xpY2siLCJfaGFuZGxlQ2FyZERlbGV0ZSIsImNhcmREYXRhIiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwicmVtb3ZlIiwiRm9ybVZhbGlkYXRvciIsImZvcm1FbGVtZW50IiwiX2Zvcm1TZXR0aW5ncyIsIl9mb3JtRWxlbWVudCIsImVuYWJsZVZhbGlkYXRpb24iLCJfYWRkRm9ybUVsZW1lbnRzIiwiX2VuYWJsZVN1Ym1pdFZhbGlkYXRpb24iLCJfc2V0Q3VzdG9tUGxhY2Vob2xkZXJzIiwiX3N1Ym1pdEJ1dHRvbkVsZW1lbnQiLCJfaW5wdXRzTGlzdCIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJfZW5hYmxlSW5wdXRzVmFsaWRhdGlvbiIsIl9kaXNhYmxlU3VibWl0IiwiZXZ0IiwicHJldmVudERlZmF1bHQiLCJmb3JFYWNoIiwiaW5wdXRFbGVtZW50IiwiX3RvZ2dsZVBsYWNlaG9sZGVyIiwidmFsdWUiLCJsZW5ndGgiLCJfdW5mcmVlemVQbGFjZWhvbGRlciIsIl9mcmVlemVQbGFjZWhvbGRlciIsImlkIiwiYWRkIiwiX3RvZ2dsZVN1Ym1pdEJ1dHRvblN0YXRlIiwiX2hhc0ludmFsaWRJbnB1dCIsIl9hYmxlU3VibWl0IiwiZGlzYWJsZWQiLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oaWRlSW5wdXRFcnJvciIsIl9zaG93SW5wdXRFcnJvciIsInZhbGlkYXRpb25NZXNzYWdlIiwiZXJyb3JNZXNzYWdlIiwiZXJyb3JFbGVtZW50Iiwic29tZSIsInJlc2V0Rm9ybSIsInJlc2V0IiwibG9hZEZvcm1EYXRhIiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwiX3BvcHVwRWxlbWVudCIsIl9jbG9zZVBvcHVwQnV0dG9uRWxlbWVudCIsImNsb3NlUG9wdXAiLCJiaW5kIiwiX2hhbmRsZUVzY0Nsb3NlIiwiX2hhbmRsZUZvY3VzT3V0UG9wdXAiLCJrZXkiLCJ0YXJnZXQiLCJvcGVuUG9wdXAiLCJfc2V0VGVtcEV2ZW50TGlzdGVuZXJzIiwiX3JlbW92ZVRlbXBFdmVudExpc3RlbmVycyIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJQb3B1cFdpdGhGb3JtIiwiaGFuZGxlRm9ybVN1Ym1pdERhdGEiLCJzdXBlciIsIl9oYW5kbGVGb3JtU3VibWl0RGF0YSIsIl9oYW5kbGVGb3JtU3VibWl0IiwiX2dldElucHV0VmFsdWVzIiwiX2lucHV0TGlzdCIsIl9mb3JtVmFsdWVzIiwiaW5wdXQiLCJUZXh0Q29udGFpbmVyIiwiY29udGFpbmVyU2VsZWN0b3IiLCJpbml0aWFsU2VjdGlvbiIsImhhbmRsZVRleHRJdGVtcyIsIl9jb250YWluZXIiLCJfdGV4dEl0ZW1zIiwidGV4dEl0ZW1zIiwiX3JlbmRlckFsbEl0ZW1zIiwicmVuZGVyQWxsSXRlbXMiLCJpbml0aWFsaXplQ29udGFpbmVyVGV4dCIsInJlc2V0SXRlbXMiLCJuZXdJdGVtcyIsInNldEl0ZW1UZXh0Q29udGVudCIsInNvdXJjZUVsZW1lbnRTZWxlY3RvciIsIm5ld1RleHRWYWx1ZSIsInNldEl0ZW1WYWx1ZSIsIm5ld1ZhbHVlIiwicHJvZmlsZSIsInByb2ZpbGVJbmZvIiwicHJvZmlsZUVkaXRCdXR0b24iLCJhZGRDYXJkQnV0dG9uIiwiZWRpdFByb2ZpbGVQb3B1cCIsImVkaXRQcm9maWxlRm9ybSIsImFkZENhcmRQb3B1cCIsImFkZENhcmRGb3JtIiwiY2FyZFBvcHVwIiwiY2xvc2VVcENhcmRQb3B1cCIsIl9pbWFnZUxpbmtFbGVtZW50IiwiX2ltYWdlQ2FwdGlvbkVsZW1lbnQiLCJpbWFnZURhdGEiLCJfc2V0SW1hZ2VEYXRhIiwiX3NldFBvcHVwQ29udGVudCIsIm5ld0ltYWdlRGF0YSIsIl9pbWFnZUxpbmsiLCJfaW1hZ2VDYXB0aW9uIiwiY2FwdGlvbiIsImNhcmRzR2FsbGVyeVNlY3Rpb24iLCJfaXRlbXMiLCJpdGVtcyIsIl9yZW5kZXJJdGVtIiwicmVuZGVySXRlbSIsInJlbmRlckl0ZW1zTGlzdCIsInJlbmRlck5ld0l0ZW0iLCJpdGVtIiwicHVzaCIsImFkZEl0ZW1Ub0JlZ2lubmluZyIsImVsZW1lbnQiLCJwcmVwZW5kIiwiY2FyZERhdGFJdGVtIiwibmV3Q2FyZEVsZW1lbnQiLCJwb3B1cFdpdGhDYXJkIiwibmV3Q2FyZCIsImhhbmRsZUNhcmRQb3B1cENsaWNrIiwiZ2V0Q2FyZFdpdGhQb3B1cCIsInVzZXJJbmZvUHJvZmlsZSIsInVzZXJJbmZvU2VsZWN0b3JzIiwiX3Byb2ZpbGVOYW1lRWxlbWVudCIsIl9wcm9maWxlSm9iRWxlbWVudCIsImdldFVzZXJJbmZvIiwidXNlckluZm8iLCJzZXRVc2VySW5mbyIsIm5ld1VzZXJJbmZvIiwicHJvZmlsZVNlY3Rpb24iLCJ1c2VyRGF0YUl0ZW1zIiwiaXRlbUtleSIsIml0ZW1WYWx1ZSIsIk9iamVjdCIsImVudHJpZXMiLCJwcm9maWxlRm9ybVNlY3Rpb24iLCJ1c2VySW5wdXRJdGVtcyIsImN1cmVudFVzZXJEYXRhIiwidmFsaWRhdGFibGVGb3JtcyIsImVkaXRQcm9maWxlIiwiYWRkQ2FyZCIsImFkZENhcmRBY3RpdmVQb3B1cEZvcm0iLCJuZXdDYXJkRGF0YSIsImNvbnRhaW5zIiwiZWRpdFByb2ZpbGVBY3RpdmVQb3B1cEZvcm0iLCJuZXdVc2VyUHJvZmlsZURhdGEiXSwic291cmNlUm9vdCI6IiJ9